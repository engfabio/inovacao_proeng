{"ast":null,"code":"import _objectSpread from\"C:/github/inovacao_proeng/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{useNavigate}from'react-router-dom';import{useIdeas}from'../../contexts/IdeasContext';import{useAI}from'../../contexts/AIContext';import{categories}from'../../data/mockData';import{Lightbulb,AlertCircle,Sparkles,Loader2,ChevronDown,ChevronUp,Save,Send,RefreshCw}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const EnhancedIdeaForm=()=>{const navigate=useNavigate();const{submitIdea,ideas}=useIdeas();const{analyzeIdea,configuration}=useAI();const[formData,setFormData]=useState({title:'',category:'',what:'',who:'',when:'',where:'',why:'',how:'',howMuch:'',difficulties:'',resources:'',attentionPoints:'',description:'',benefits:''});const[similarIdeas,setSimilarIdeas]=useState([]);const[showAIPanel,setShowAIPanel]=useState(false);const[aiSuggestions,setAiSuggestions]=useState(null);const[expandedSections,setExpandedSections]=useState(new Set(['basic']));const[isAnalyzing,setIsAnalyzing]=useState(false);const[lastAnalyzedData,setLastAnalyzedData]=useState('');// Estados para análise campo a campo\nconst[fieldSuggestions,setFieldSuggestions]=useState({});const[fieldTimers,setFieldTimers]=useState({});const[analyzingFields,setAnalyzingFields]=useState(new Set());const[fieldStatus,setFieldStatus]=useState({});// Função para analisar um campo específico\nconst analyzeField=useCallback(async(fieldName,value)=>{if(!(configuration!==null&&configuration!==void 0&&configuration.isActive)||!value.trim()||value.length<10){return;}setAnalyzingFields(prev=>new Set(Array.from(prev).concat(fieldName)));setFieldStatus(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:'analyzing'}));try{// Criar um prompt específico para análise de campo individual\nconst fieldLabels={title:'Título da Ideia',what:'O quê? (What)',who:'Quem? (Who)',when:'Quando? (When)',where:'Onde? (Where)',why:'Por quê? (Why)',how:'Como? (How)',howMuch:'Quanto custará? (How much)',difficulties:'Dificuldades',resources:'Recursos Necessários',attentionPoints:'Pontos de Atenção',description:'Descrição Consolidada',benefits:'Benefícios Esperados'};const fieldLabel=fieldLabels[fieldName]||fieldName;// Simular análise de IA (aqui você integraria com a API real)\nconst mockAnalysis=await new Promise(resolve=>{setTimeout(()=>{// Lógica para determinar se precisa de sugestão ou elogio\nconst needsSuggestion=Math.random()>0.6;// 40% chance de sugestão\nif(needsSuggestion){const suggestions={title:['Considere um título mais específico que destaque o valor da inovação','Adicione palavras-chave que facilitem a busca e compreensão','Torne o título mais atrativo para stakeholders'],what:['Detalhe melhor os componentes técnicos da solução','Inclua métricas específicas de resultados esperados','Descreva com mais clareza o diferencial inovador'],who:['Especifique os perfis profissionais necessários','Identifique stakeholders chave e suas responsabilidades','Considere parceiros externos que podem contribuir'],why:['Adicione dados quantitativos que justifiquem a necessidade','Relacione com objetivos estratégicos da Proeng','Inclua análise de impacto no mercado ou clientes'],how:['Detalhe as etapas de implementação de forma mais clara','Considere metodologias ágeis ou frameworks específicos','Inclua marcos de controle e validação'],description:['Conecte melhor os aspectos técnicos com benefícios de negócio','Adicione exemplos práticos de aplicação','Simplifique a linguagem para diferentes públicos']};const fieldSuggestions=suggestions[fieldName]||[\"Considere expandir este campo com mais detalhes espec\\xEDficos da Proeng\",\"Adicione informa\\xE7\\xF5es que conectem com os objetivos estrat\\xE9gicos da empresa\",\"Inclua dados ou m\\xE9tricas que suportem sua proposta\"];resolve({suggestion:fieldSuggestions[Math.floor(Math.random()*fieldSuggestions.length)]});}else{const praises=['Excelente descrição! Muito clara e objetiva.','Ótimo trabalho! Esta informação está bem estruturada.','Perfeito! Este campo está muito bem detalhado.','Muito bom! Informação completa e relevante.','Excelente! Este conteúdo atende aos critérios da Proeng.'];resolve({praise:praises[Math.floor(Math.random()*praises.length)]});}},1500);// Simular tempo de processamento\n});setFieldSuggestions(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:mockAnalysis}));setFieldStatus(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:mockAnalysis.suggestion?'suggestion':'praised'}));}catch(error){console.error('Erro na análise do campo:',error);}finally{setAnalyzingFields(prev=>{const newSet=new Set(prev);newSet.delete(fieldName);return newSet;});}},[configuration]);// Função para aplicar sugestão de campo\nconst applyFieldSuggestion=(fieldName,suggestion)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:suggestion}));setFieldStatus(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:'approved'}));// Limpar a sugestão após aplicar\nsetFieldSuggestions(prev=>{const newSuggestions=_objectSpread({},prev);delete newSuggestions[fieldName];return newSuggestions;});};// Função para dispensar sugestão\nconst dismissFieldSuggestion=fieldName=>{setFieldStatus(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:'approved'}));setFieldSuggestions(prev=>{const newSuggestions=_objectSpread({},prev);delete newSuggestions[fieldName];return newSuggestions;});};// Seções do formulário\nconst sections=[{id:'basic',title:'Informações Básicas',required:true,fields:['title','category']},{id:'5w2h',title:'Metodologia 5W2H',required:true,fields:['what','who','when','where','why','how','howMuch']},{id:'additional',title:'Informações Adicionais',required:false,fields:['difficulties','resources','attentionPoints']},{id:'summary',title:'Resumo',required:true,fields:['description','benefits']}];const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Limpar timer anterior se existir\nif(fieldTimers[name]){clearTimeout(fieldTimers[name]);}// Limpar sugestões anteriores do campo\nsetFieldSuggestions(prev=>{const newSuggestions=_objectSpread({},prev);delete newSuggestions[name];return newSuggestions;});// Resetar status do campo\nsetFieldStatus(prev=>{const newStatus=_objectSpread({},prev);delete newStatus[name];return newStatus;});// Configurar novo timer para análise (10 segundos)\nif(value.trim().length>5){const timer=setTimeout(()=>{analyzeField(name,value);},10000);// 10 segundos\nsetFieldTimers(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:timer}));}// Detectar ideias similares\nif(name==='title'&&value.length>5){const similar=ideas.filter(idea=>idea.title.toLowerCase().includes(value.toLowerCase())||idea.description.toLowerCase().includes(value.toLowerCase())).map(idea=>idea.title);setSimilarIdeas(similar.slice(0,3));}};const toggleSection=sectionId=>{const newExpanded=new Set(expandedSections);if(newExpanded.has(sectionId)){newExpanded.delete(sectionId);}else{newExpanded.add(sectionId);}setExpandedSections(newExpanded);};const handleAIAnalysis=async()=>{if(!(configuration!==null&&configuration!==void 0&&configuration.isActive)){alert('A IA não está configurada ou ativa. Configure nas configurações administrativas.');return;}setIsAnalyzing(true);try{const response=await analyzeIdea(formData);if(response.success){setAiSuggestions(response);setShowAIPanel(true);setLastAnalyzedData(JSON.stringify(formData));}else{alert(response.error||'Erro ao analisar ideia com IA');}}catch(error){console.error('Erro na análise:',error);alert('Erro ao conectar com a IA');}finally{setIsAnalyzing(false);}};const applySuggestion=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const applyAllSuggestions=()=>{if(aiSuggestions!==null&&aiSuggestions!==void 0&&aiSuggestions.suggestions){setFormData(prev=>_objectSpread(_objectSpread({},prev),aiSuggestions.suggestions));}};const handleSubmit=async e=>{e.preventDefault();try{// Converter para o formato esperado pelo IdeasContext\nconst ideaData={title:formData.title||'',description:formData.description||'',category:formData.category||'',benefits:formData.benefits||'',// Dados adicionais podem ser armazenados em um campo extra\nmetadata:{what:formData.what,who:formData.who,when:formData.when,where:formData.where,why:formData.why,how:formData.how,howMuch:formData.howMuch,difficulties:formData.difficulties,resources:formData.resources,attentionPoints:formData.attentionPoints}};await submitIdea(ideaData);navigate('/my-ideas');}catch(error){console.error('Erro ao submeter ideia:',error);}};// Função para renderizar feedback do campo\nconst renderFieldFeedback=fieldName=>{const isAnalyzing=analyzingFields.has(fieldName);const suggestion=fieldSuggestions[fieldName];const status=fieldStatus[fieldName];if(isAnalyzing){return/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-blue-700\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Analisando com IA...\"})]})});}if(suggestion!==null&&suggestion!==void 0&&suggestion.suggestion){return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between gap-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-4 h-4 text-yellow-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-yellow-800\",children:\"Sugest\\xE3o da IA\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-700\",children:suggestion.suggestion})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>applyFieldSuggestion(fieldName,suggestion.suggestion),className:\"px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700\",children:\"Aplicar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>dismissFieldSuggestion(fieldName),className:\"px-3 py-1 bg-gray-200 text-gray-700 text-xs rounded hover:bg-gray-300\",children:\"Dispensar\"})]})]});}if(suggestion!==null&&suggestion!==void 0&&suggestion.praise){return/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-green-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:suggestion.praise})]})});}return null;};// Limpar timers ao desmontar o componente\nuseEffect(()=>{return()=>{Object.values(fieldTimers).forEach(timer=>clearTimeout(timer));};},[fieldTimers]);const isFormDataChanged=()=>{return JSON.stringify(formData)!==lastAnalyzedData;};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Lightbulb,{className:\"w-6 h-6 text-primary-600\"}),\"Nova Ideia de Inova\\xE7\\xE3o\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[sections.map(section=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>toggleSection(section.id),className:\"w-full px-4 py-3 flex items-center justify-between bg-gray-50 hover:bg-gray-100 rounded-t-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:section.title}),section.required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),expandedSections.has(section.id)?/*#__PURE__*/_jsx(ChevronUp,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(ChevronDown,{className:\"w-5 h-5\"})]}),expandedSections.has(section.id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-4\",children:[section.id==='basic'&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"                          \",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"label\",children:\"T\\xEDtulo da Ideia *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:formData.title||'',onChange:handleChange,required:true,className:\"input\",placeholder:\"T\\xEDtulo claro e objetivo da sua ideia\"}),renderFieldFeedback('title')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"label\",children:\"Categoria *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",name:\"category\",value:formData.category||'',onChange:handleChange,required:true,className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione uma categoria\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]})]})]}),section.id==='5w2h'&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"                          \",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"what\",className:\"label\",children:\"O qu\\xEA? (What) *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"what\",name:\"what\",value:formData.what||'',onChange:handleChange,rows:3,className:\"input\",placeholder:\"Descreva claramente o projeto/ideia\"}),renderFieldFeedback('what')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"who\",className:\"label\",children:\"Quem? (Who) *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"who\",name:\"who\",value:formData.who||'',onChange:handleChange,rows:2,className:\"input\",placeholder:\"Respons\\xE1veis, empresa, centro de custo, tipo de neg\\xF3cio\"}),renderFieldFeedback('who')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"when\",className:\"label\",children:\"Quando? (When) *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"when\",name:\"when\",value:formData.when||'',onChange:handleChange,rows:2,className:\"input\",placeholder:\"Cronograma e prazos\"}),renderFieldFeedback('when')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"where\",className:\"label\",children:\"Onde? (Where) *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"where\",name:\"where\",value:formData.where||'',onChange:handleChange,rows:2,className:\"input\",placeholder:\"Local, empresa, centro de custo, tipo de neg\\xF3cio\"}),renderFieldFeedback('where')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"why\",className:\"label\",children:\"Por qu\\xEA? (Why) *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"why\",name:\"why\",value:formData.why||'',onChange:handleChange,rows:3,className:\"input\",placeholder:\"Justifique a import\\xE2ncia e benef\\xEDcios\"}),renderFieldFeedback('why')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"how\",className:\"label\",children:\"Como? (How) *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"how\",name:\"how\",value:formData.how||'',onChange:handleChange,rows:3,className:\"input\",placeholder:\"Metodologia de implementa\\xE7\\xE3o\"}),renderFieldFeedback('how')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"howMuch\",className:\"label\",children:\"Quanto custar\\xE1? (How much) *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"howMuch\",name:\"howMuch\",value:formData.howMuch||'',onChange:handleChange,rows:2,className:\"input\",placeholder:\"Investimentos e retorno esperado\"}),renderFieldFeedback('howMuch')]})]}),section.id==='additional'&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"                          \",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"difficulties\",className:\"label\",children:\"Dificuldades\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"difficulties\",name:\"difficulties\",value:formData.difficulties||'',onChange:handleChange,rows:3,className:\"input\",placeholder:\"Poss\\xEDveis obst\\xE1culos e desafios\"}),renderFieldFeedback('difficulties')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"resources\",className:\"label\",children:\"Recursos Necess\\xE1rios\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"resources\",name:\"resources\",value:formData.resources||'',onChange:handleChange,rows:3,className:\"input\",placeholder:\"Recursos humanos, financeiros e materiais\"}),renderFieldFeedback('resources')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"attentionPoints\",className:\"label\",children:\"Pontos de Aten\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"attentionPoints\",name:\"attentionPoints\",value:formData.attentionPoints||'',onChange:handleChange,rows:3,className:\"input\",placeholder:\"Riscos e considera\\xE7\\xF5es importantes\"}),renderFieldFeedback('attentionPoints')]})]}),section.id==='summary'&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"                          \",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"label\",children:\"Descri\\xE7\\xE3o Consolidada *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",value:formData.description||'',onChange:handleChange,required:true,rows:4,className:\"input\",placeholder:\"Resumo completo da ideia\"}),renderFieldFeedback('description')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"benefits\",className:\"label\",children:\"Benef\\xEDcios Esperados *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"benefits\",name:\"benefits\",value:formData.benefits||'',onChange:handleChange,required:true,rows:3,className:\"input\",placeholder:\"Benef\\xEDcios que esta ideia trar\\xE1 para a empresa\"}),renderFieldFeedback('benefits')]})]})]})]},section.id)),similarIdeas.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-yellow-600 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-yellow-800\",children:\"Ideias similares encontradas:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-2 space-y-1\",children:similarIdeas.map((idea,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm text-yellow-700\",children:[\"\\u2022 \",idea]},index))})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between gap-4 pt-4 border-t\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handleAIAnalysis,disabled:isAnalyzing||!(configuration!==null&&configuration!==void 0&&configuration.isActive),className:\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\",children:[isAnalyzing?/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 animate-spin\"}):/*#__PURE__*/_jsx(Sparkles,{className:\"w-4 h-4\"}),isAnalyzing?'Analisando...':'Analisar com IA']}),isFormDataChanged()&&aiSuggestions&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handleAIAnalysis,className:\"flex items-center gap-2 px-3 py-2 text-blue-600 border border-blue-300 rounded-md hover:bg-blue-50\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4\"}),\"Reanalisar\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"flex items-center gap-2 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4\"}),\"Salvar Rascunho\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700\",children:[/*#__PURE__*/_jsx(Send,{className:\"w-4 h-4\"}),\"Enviar Ideia\"]})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:configuration!==null&&configuration!==void 0&&configuration.isActive?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md transition-all duration-300 \".concat(showAIPanel?'block':'hidden lg:block'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b bg-gradient-to-r from-blue-50 to-purple-50\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-5 h-5 text-blue-600\"}),\"Assistente de IA\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Analise sua ideia e receba sugest\\xF5es de melhorias\"})]}),!aiSuggestions?/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 text-center py-8\",children:\"Preencha alguns campos e clique em \\\"Analisar com IA\\\" para receber sugest\\xF5es personalizadas.\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-4 max-h-96 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:applyAllSuggestions,className:\"w-full px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700\",children:\"Aplicar Todas as Sugest\\xF5es\"}),Object.entries(aiSuggestions.suggestions||{}).map(_ref=>{let[field,value]=_ref;if(!value||field==='category')return null;const fieldLabels={title:'Título',what:'O quê?',who:'Quem?',when:'Quando?',where:'Onde?',why:'Por quê?',how:'Como?',howMuch:'Quanto custará?',difficulties:'Dificuldades',resources:'Recursos',attentionPoints:'Pontos de Atenção',description:'Descrição',benefits:'Benefícios'};return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:fieldLabels[field]||field}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>applySuggestion(field,value),className:\"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200\",children:\"Aplicar\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 line-clamp-3\",children:value})]},field);}),aiSuggestions.improvements&&aiSuggestions.improvements.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Melhorias Sugeridas:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1\",children:aiSuggestions.improvements.map((improvement,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm text-gray-600 flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500 mt-1\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:improvement})]},index))})]}),aiSuggestions.relatedIdeas&&aiSuggestions.relatedIdeas.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Ideias Relacionadas:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1\",children:aiSuggestions.relatedIdeas.map((idea,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm text-gray-600 flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-500 mt-1\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:idea})]},index))})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 text-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-12 h-12 text-gray-400 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-2\",children:\"IA Indispon\\xEDvel\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"A assist\\xEAncia de IA n\\xE3o est\\xE1 configurada. Entre em contato com o administrador.\"})]})})]})});};","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useIdeas","useAI","categories","Lightbulb","AlertCircle","Sparkles","Loader2","ChevronDown","ChevronUp","Save","Send","RefreshCw","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EnhancedIdeaForm","navigate","submitIdea","ideas","analyzeIdea","configuration","formData","setFormData","title","category","what","who","when","where","why","how","howMuch","difficulties","resources","attentionPoints","description","benefits","similarIdeas","setSimilarIdeas","showAIPanel","setShowAIPanel","aiSuggestions","setAiSuggestions","expandedSections","setExpandedSections","Set","isAnalyzing","setIsAnalyzing","lastAnalyzedData","setLastAnalyzedData","fieldSuggestions","setFieldSuggestions","fieldTimers","setFieldTimers","analyzingFields","setAnalyzingFields","fieldStatus","setFieldStatus","analyzeField","fieldName","value","isActive","trim","length","prev","Array","from","concat","_objectSpread","fieldLabels","fieldLabel","mockAnalysis","Promise","resolve","setTimeout","needsSuggestion","Math","random","suggestions","suggestion","floor","praises","praise","error","console","newSet","delete","applyFieldSuggestion","newSuggestions","dismissFieldSuggestion","sections","id","required","fields","handleChange","e","name","target","clearTimeout","newStatus","timer","similar","filter","idea","toLowerCase","includes","map","slice","toggleSection","sectionId","newExpanded","has","add","handleAIAnalysis","alert","response","success","JSON","stringify","applySuggestion","field","applyAllSuggestions","handleSubmit","preventDefault","ideaData","metadata","renderFieldFeedback","status","className","children","type","onClick","Object","values","forEach","isFormDataChanged","onSubmit","section","htmlFor","onChange","placeholder","cat","rows","index","disabled","entries","_ref","improvements","improvement","relatedIdeas"],"sources":["C:/github/inovacao_proeng/src/components/Ideas/EnhancedIdeaForm.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useIdeas } from '../../contexts/IdeasContext';\r\nimport { useAI } from '../../contexts/AIContext';\r\nimport { categories } from '../../data/mockData';\r\nimport { IdeaFormData } from '../../types';\r\nimport { \r\n  Lightbulb, \r\n  AlertCircle, \r\n  Sparkles, \r\n  Loader2, \r\n  ChevronDown, \r\n  ChevronUp,\r\n  Save,\r\n  Send,\r\n  RefreshCw\r\n} from 'lucide-react';\r\n\r\nexport const EnhancedIdeaForm: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { submitIdea, ideas } = useIdeas();\r\n  const { analyzeIdea, configuration } = useAI();\r\n  \r\n  const [formData, setFormData] = useState<Partial<IdeaFormData>>({\r\n    title: '',\r\n    category: '',\r\n    what: '',\r\n    who: '',\r\n    when: '',\r\n    where: '',\r\n    why: '',\r\n    how: '',\r\n    howMuch: '',\r\n    difficulties: '',\r\n    resources: '',\r\n    attentionPoints: '',\r\n    description: '',\r\n    benefits: ''\r\n  });\r\n  const [similarIdeas, setSimilarIdeas] = useState<string[]>([]);\r\n  const [showAIPanel, setShowAIPanel] = useState(false);\r\n  const [aiSuggestions, setAiSuggestions] = useState<any>(null);\r\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set(['basic']));\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [lastAnalyzedData, setLastAnalyzedData] = useState<string>('');\r\n  // Estados para análise campo a campo\r\n  const [fieldSuggestions, setFieldSuggestions] = useState<Record<string, any>>({});\r\n  const [fieldTimers, setFieldTimers] = useState<Record<string, NodeJS.Timeout>>({});\r\n  const [analyzingFields, setAnalyzingFields] = useState<Set<string>>(new Set());\r\n  const [fieldStatus, setFieldStatus] = useState<Record<string, 'analyzing' | 'suggestion' | 'approved' | 'praised'>>({});\r\n\r\n  // Função para analisar um campo específico\r\n  const analyzeField = useCallback(async (fieldName: string, value: string) => {\r\n    if (!configuration?.isActive || !value.trim() || value.length < 10) {\r\n      return;\r\n    }\r\n\r\n    setAnalyzingFields(prev => new Set(Array.from(prev).concat(fieldName)));\r\n    setFieldStatus(prev => ({ ...prev, [fieldName]: 'analyzing' }));\r\n\r\n    try {\r\n      // Criar um prompt específico para análise de campo individual\r\n      const fieldLabels: { [key: string]: string } = {\r\n        title: 'Título da Ideia',\r\n        what: 'O quê? (What)',\r\n        who: 'Quem? (Who)',\r\n        when: 'Quando? (When)',\r\n        where: 'Onde? (Where)',\r\n        why: 'Por quê? (Why)',\r\n        how: 'Como? (How)',\r\n        howMuch: 'Quanto custará? (How much)',\r\n        difficulties: 'Dificuldades',\r\n        resources: 'Recursos Necessários',\r\n        attentionPoints: 'Pontos de Atenção',\r\n        description: 'Descrição Consolidada',\r\n        benefits: 'Benefícios Esperados'\r\n      };\r\n\r\n      const fieldLabel = fieldLabels[fieldName] || fieldName;\r\n      \r\n      // Simular análise de IA (aqui você integraria com a API real)\r\n      const mockAnalysis = await new Promise<{suggestion?: string, praise?: string}>((resolve) => {\r\n        setTimeout(() => {\r\n          // Lógica para determinar se precisa de sugestão ou elogio\r\n          const needsSuggestion = Math.random() > 0.6; // 40% chance de sugestão\r\n          \r\n          if (needsSuggestion) {\r\n            const suggestions: { [key: string]: string[] } = {\r\n              title: [\r\n                'Considere um título mais específico que destaque o valor da inovação',\r\n                'Adicione palavras-chave que facilitem a busca e compreensão',\r\n                'Torne o título mais atrativo para stakeholders'\r\n              ],\r\n              what: [\r\n                'Detalhe melhor os componentes técnicos da solução',\r\n                'Inclua métricas específicas de resultados esperados',\r\n                'Descreva com mais clareza o diferencial inovador'\r\n              ],\r\n              who: [\r\n                'Especifique os perfis profissionais necessários',\r\n                'Identifique stakeholders chave e suas responsabilidades',\r\n                'Considere parceiros externos que podem contribuir'\r\n              ],\r\n              why: [\r\n                'Adicione dados quantitativos que justifiquem a necessidade',\r\n                'Relacione com objetivos estratégicos da Proeng',\r\n                'Inclua análise de impacto no mercado ou clientes'\r\n              ],\r\n              how: [\r\n                'Detalhe as etapas de implementação de forma mais clara',\r\n                'Considere metodologias ágeis ou frameworks específicos',\r\n                'Inclua marcos de controle e validação'\r\n              ],\r\n              description: [\r\n                'Conecte melhor os aspectos técnicos com benefícios de negócio',\r\n                'Adicione exemplos práticos de aplicação',\r\n                'Simplifique a linguagem para diferentes públicos'\r\n              ]\r\n            };\r\n\r\n            const fieldSuggestions = suggestions[fieldName] || [\r\n              `Considere expandir este campo com mais detalhes específicos da Proeng`,\r\n              `Adicione informações que conectem com os objetivos estratégicos da empresa`,\r\n              `Inclua dados ou métricas que suportem sua proposta`\r\n            ];\r\n\r\n            resolve({\r\n              suggestion: fieldSuggestions[Math.floor(Math.random() * fieldSuggestions.length)]\r\n            });\r\n          } else {\r\n            const praises = [\r\n              'Excelente descrição! Muito clara e objetiva.',\r\n              'Ótimo trabalho! Esta informação está bem estruturada.',\r\n              'Perfeito! Este campo está muito bem detalhado.',\r\n              'Muito bom! Informação completa e relevante.',\r\n              'Excelente! Este conteúdo atende aos critérios da Proeng.'\r\n            ];\r\n            \r\n            resolve({\r\n              praise: praises[Math.floor(Math.random() * praises.length)]\r\n            });\r\n          }\r\n        }, 1500); // Simular tempo de processamento\r\n      });\r\n\r\n      setFieldSuggestions(prev => ({\r\n        ...prev,\r\n        [fieldName]: mockAnalysis\r\n      }));\r\n\r\n      setFieldStatus(prev => ({\r\n        ...prev,\r\n        [fieldName]: mockAnalysis.suggestion ? 'suggestion' : 'praised'\r\n      }));\r\n\r\n    } catch (error) {\r\n      console.error('Erro na análise do campo:', error);\r\n    } finally {\r\n      setAnalyzingFields(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.delete(fieldName);\r\n        return newSet;\r\n      });\r\n    }\r\n  }, [configuration]);\r\n\r\n  // Função para aplicar sugestão de campo\r\n  const applyFieldSuggestion = (fieldName: string, suggestion: string) => {\r\n    setFormData(prev => ({ ...prev, [fieldName]: suggestion }));\r\n    setFieldStatus(prev => ({ ...prev, [fieldName]: 'approved' }));\r\n    // Limpar a sugestão após aplicar\r\n    setFieldSuggestions(prev => {\r\n      const newSuggestions = { ...prev };\r\n      delete newSuggestions[fieldName];\r\n      return newSuggestions;\r\n    });\r\n  };\r\n\r\n  // Função para dispensar sugestão\r\n  const dismissFieldSuggestion = (fieldName: string) => {\r\n    setFieldStatus(prev => ({ ...prev, [fieldName]: 'approved' }));\r\n    setFieldSuggestions(prev => {\r\n      const newSuggestions = { ...prev };\r\n      delete newSuggestions[fieldName];\r\n      return newSuggestions;\r\n    });\r\n  };\r\n\r\n  // Seções do formulário\r\n  const sections = [\r\n    {\r\n      id: 'basic',\r\n      title: 'Informações Básicas',\r\n      required: true,\r\n      fields: ['title', 'category']\r\n    },\r\n    {\r\n      id: '5w2h',\r\n      title: 'Metodologia 5W2H',\r\n      required: true,\r\n      fields: ['what', 'who', 'when', 'where', 'why', 'how', 'howMuch']\r\n    },\r\n    {\r\n      id: 'additional',\r\n      title: 'Informações Adicionais',\r\n      required: false,\r\n      fields: ['difficulties', 'resources', 'attentionPoints']\r\n    },\r\n    {\r\n      id: 'summary',\r\n      title: 'Resumo',\r\n      required: true,\r\n      fields: ['description', 'benefits']\r\n    }\r\n  ];\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n\r\n    // Limpar timer anterior se existir\r\n    if (fieldTimers[name]) {\r\n      clearTimeout(fieldTimers[name]);\r\n    }\r\n\r\n    // Limpar sugestões anteriores do campo\r\n    setFieldSuggestions(prev => {\r\n      const newSuggestions = { ...prev };\r\n      delete newSuggestions[name];\r\n      return newSuggestions;\r\n    });\r\n\r\n    // Resetar status do campo\r\n    setFieldStatus(prev => {\r\n      const newStatus = { ...prev };\r\n      delete newStatus[name];\r\n      return newStatus;\r\n    });\r\n\r\n    // Configurar novo timer para análise (10 segundos)\r\n    if (value.trim().length > 5) {\r\n      const timer = setTimeout(() => {\r\n        analyzeField(name, value);\r\n      }, 10000); // 10 segundos\r\n\r\n      setFieldTimers(prev => ({ ...prev, [name]: timer }));\r\n    }\r\n\r\n    // Detectar ideias similares\r\n    if (name === 'title' && value.length > 5) {\r\n      const similar = ideas\r\n        .filter(idea => \r\n          idea.title.toLowerCase().includes(value.toLowerCase()) ||\r\n          idea.description.toLowerCase().includes(value.toLowerCase())\r\n        )\r\n        .map(idea => idea.title);\r\n      setSimilarIdeas(similar.slice(0, 3));\r\n    }\r\n  };\r\n\r\n  const toggleSection = (sectionId: string) => {\r\n    const newExpanded = new Set(expandedSections);\r\n    if (newExpanded.has(sectionId)) {\r\n      newExpanded.delete(sectionId);\r\n    } else {\r\n      newExpanded.add(sectionId);\r\n    }\r\n    setExpandedSections(newExpanded);\r\n  };\r\n\r\n  const handleAIAnalysis = async () => {\r\n    if (!configuration?.isActive) {\r\n      alert('A IA não está configurada ou ativa. Configure nas configurações administrativas.');\r\n      return;\r\n    }\r\n\r\n    setIsAnalyzing(true);\r\n    try {\r\n      const response = await analyzeIdea(formData);\r\n      if (response.success) {\r\n        setAiSuggestions(response);\r\n        setShowAIPanel(true);\r\n        setLastAnalyzedData(JSON.stringify(formData));\r\n      } else {\r\n        alert(response.error || 'Erro ao analisar ideia com IA');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro na análise:', error);\r\n      alert('Erro ao conectar com a IA');\r\n    } finally {\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const applySuggestion = (field: keyof IdeaFormData, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const applyAllSuggestions = () => {\r\n    if (aiSuggestions?.suggestions) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        ...aiSuggestions.suggestions\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Converter para o formato esperado pelo IdeasContext\r\n      const ideaData = {\r\n        title: formData.title || '',\r\n        description: formData.description || '',\r\n        category: formData.category || '',\r\n        benefits: formData.benefits || '',\r\n        // Dados adicionais podem ser armazenados em um campo extra\r\n        metadata: {\r\n          what: formData.what,\r\n          who: formData.who,\r\n          when: formData.when,\r\n          where: formData.where,\r\n          why: formData.why,\r\n          how: formData.how,\r\n          howMuch: formData.howMuch,\r\n          difficulties: formData.difficulties,\r\n          resources: formData.resources,\r\n          attentionPoints: formData.attentionPoints\r\n        }\r\n      };\r\n      \r\n      await submitIdea(ideaData);\r\n      navigate('/my-ideas');\r\n    } catch (error) {\r\n      console.error('Erro ao submeter ideia:', error);\r\n    }\r\n  };\r\n  // Função para renderizar feedback do campo\r\n  const renderFieldFeedback = (fieldName: string) => {\r\n    const isAnalyzing = analyzingFields.has(fieldName);\r\n    const suggestion = fieldSuggestions[fieldName];\r\n    const status = fieldStatus[fieldName];\r\n\r\n    if (isAnalyzing) {\r\n      return (\r\n        <div className=\"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\r\n          <div className=\"flex items-center gap-2 text-blue-700\">\r\n            <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n            <span className=\"text-sm font-medium\">Analisando com IA...</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (suggestion?.suggestion) {\r\n      return (\r\n        <div className=\"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n          <div className=\"flex items-start justify-between gap-2\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <Sparkles className=\"w-4 h-4 text-yellow-600\" />\r\n                <span className=\"text-sm font-medium text-yellow-800\">Sugestão da IA</span>\r\n              </div>\r\n              <p className=\"text-sm text-yellow-700\">{suggestion.suggestion}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-2 mt-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => applyFieldSuggestion(fieldName, suggestion.suggestion)}\r\n              className=\"px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700\"\r\n            >\r\n              Aplicar\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => dismissFieldSuggestion(fieldName)}\r\n              className=\"px-3 py-1 bg-gray-200 text-gray-700 text-xs rounded hover:bg-gray-300\"\r\n            >\r\n              Dispensar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (suggestion?.praise) {\r\n      return (\r\n        <div className=\"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n          <div className=\"flex items-center gap-2 text-green-700\">\r\n            <span className=\"text-green-500\">✓</span>\r\n            <span className=\"text-sm font-medium\">{suggestion.praise}</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n  // Limpar timers ao desmontar o componente\r\n  useEffect(() => {\r\n    return () => {\r\n      Object.values(fieldTimers).forEach(timer => clearTimeout(timer));\r\n    };\r\n  }, [fieldTimers]);\r\n\r\n  const isFormDataChanged = () => {\r\n    return JSON.stringify(formData) !== lastAnalyzedData;\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Formulário Principal */}\r\n        <div className=\"lg:col-span-2\">\r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2\">\r\n              <Lightbulb className=\"w-6 h-6 text-primary-600\" />\r\n              Nova Ideia de Inovação\r\n            </h2>\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              {sections.map((section) => (\r\n                <div key={section.id} className=\"border border-gray-200 rounded-lg\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => toggleSection(section.id)}\r\n                    className=\"w-full px-4 py-3 flex items-center justify-between bg-gray-50 hover:bg-gray-100 rounded-t-lg\"\r\n                  >\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"font-medium\">{section.title}</span>\r\n                      {section.required && <span className=\"text-red-500\">*</span>}\r\n                    </div>\r\n                    {expandedSections.has(section.id) ? (\r\n                      <ChevronUp className=\"w-5 h-5\" />\r\n                    ) : (\r\n                      <ChevronDown className=\"w-5 h-5\" />\r\n                    )}\r\n                  </button>\r\n\r\n                  {expandedSections.has(section.id) && (\r\n                    <div className=\"p-4 space-y-4\">\r\n                      {section.id === 'basic' && (\r\n                        <>                          <div>\r\n                            <label htmlFor=\"title\" className=\"label\">\r\n                              Título da Ideia *\r\n                            </label>\r\n                            <input\r\n                              type=\"text\"\r\n                              id=\"title\"\r\n                              name=\"title\"\r\n                              value={formData.title || ''}\r\n                              onChange={handleChange}\r\n                              required\r\n                              className=\"input\"\r\n                              placeholder=\"Título claro e objetivo da sua ideia\"\r\n                            />\r\n                            {renderFieldFeedback('title')}\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label htmlFor=\"category\" className=\"label\">\r\n                              Categoria *\r\n                            </label>\r\n                            <select\r\n                              id=\"category\"\r\n                              name=\"category\"\r\n                              value={formData.category || ''}\r\n                              onChange={handleChange}\r\n                              required\r\n                              className=\"input\"\r\n                            >\r\n                              <option value=\"\">Selecione uma categoria</option>\r\n                              {categories.map(cat => (\r\n                                <option key={cat} value={cat}>{cat}</option>\r\n                              ))}\r\n                            </select>\r\n                          </div>\r\n                        </>\r\n                      )}\r\n\r\n                      {section.id === '5w2h' && (\r\n                        <>                          <div>\r\n                            <label htmlFor=\"what\" className=\"label\">\r\n                              O quê? (What) *\r\n                            </label>\r\n                            <textarea\r\n                              id=\"what\"\r\n                              name=\"what\"\r\n                              value={formData.what || ''}\r\n                              onChange={handleChange}\r\n                              rows={3}\r\n                              className=\"input\"\r\n                              placeholder=\"Descreva claramente o projeto/ideia\"\r\n                            />\r\n                            {renderFieldFeedback('what')}\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label htmlFor=\"who\" className=\"label\">\r\n                              Quem? (Who) *\r\n                            </label>\r\n                            <textarea\r\n                              id=\"who\"\r\n                              name=\"who\"\r\n                              value={formData.who || ''}\r\n                              onChange={handleChange}\r\n                              rows={2}\r\n                              className=\"input\"\r\n                              placeholder=\"Responsáveis, empresa, centro de custo, tipo de negócio\"\r\n                            />\r\n                            {renderFieldFeedback('who')}\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label htmlFor=\"when\" className=\"label\">\r\n                              Quando? (When) *\r\n                            </label>\r\n                            <textarea\r\n                              id=\"when\"\r\n                              name=\"when\"\r\n                              value={formData.when || ''}\r\n                              onChange={handleChange}\r\n                              rows={2}\r\n                              className=\"input\"\r\n                              placeholder=\"Cronograma e prazos\"\r\n                            />\r\n                            {renderFieldFeedback('when')}\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label htmlFor=\"where\" className=\"label\">\r\n                              Onde? (Where) *\r\n                            </label>\r\n                            <textarea\r\n                              id=\"where\"\r\n                              name=\"where\"\r\n                              value={formData.where || ''}\r\n                              onChange={handleChange}\r\n                              rows={2}\r\n                              className=\"input\"\r\n                              placeholder=\"Local, empresa, centro de custo, tipo de negócio\"\r\n                            />\r\n                            {renderFieldFeedback('where')}\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label htmlFor=\"why\" className=\"label\">\r\n                              Por quê? (Why) *\r\n                            </label>\r\n                            <textarea\r\n                              id=\"why\"\r\n                              name=\"why\"\r\n                              value={formData.why || ''}\r\n                              onChange={handleChange}\r\n                              rows={3}\r\n                              className=\"input\"\r\n                              placeholder=\"Justifique a importância e benefícios\"\r\n                            />\r\n                            {renderFieldFeedback('why')}\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label htmlFor=\"how\" className=\"label\">\r\n                              Como? (How) *\r\n                            </label>\r\n                            <textarea\r\n                              id=\"how\"\r\n                              name=\"how\"\r\n                              value={formData.how || ''}\r\n                              onChange={handleChange}\r\n                              rows={3}\r\n                              className=\"input\"\r\n                              placeholder=\"Metodologia de implementação\"\r\n                            />\r\n                            {renderFieldFeedback('how')}\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label htmlFor=\"howMuch\" className=\"label\">\r\n                              Quanto custará? (How much) *\r\n                            </label>\r\n                            <textarea\r\n                              id=\"howMuch\"\r\n                              name=\"howMuch\"\r\n                              value={formData.howMuch || ''}\r\n                              onChange={handleChange}\r\n                              rows={2}\r\n                              className=\"input\"\r\n                              placeholder=\"Investimentos e retorno esperado\"\r\n                            />\r\n                            {renderFieldFeedback('howMuch')}\r\n                          </div>\r\n                        </>\r\n                      )}\r\n\r\n                      {section.id === 'additional' && (\r\n                        <>                          <div>\r\n                            <label htmlFor=\"difficulties\" className=\"label\">\r\n                              Dificuldades\r\n                            </label>\r\n                            <textarea\r\n                              id=\"difficulties\"\r\n                              name=\"difficulties\"\r\n                              value={formData.difficulties || ''}\r\n                              onChange={handleChange}\r\n                              rows={3}\r\n                              className=\"input\"\r\n                              placeholder=\"Possíveis obstáculos e desafios\"\r\n                            />\r\n                            {renderFieldFeedback('difficulties')}\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label htmlFor=\"resources\" className=\"label\">\r\n                              Recursos Necessários\r\n                            </label>\r\n                            <textarea\r\n                              id=\"resources\"\r\n                              name=\"resources\"\r\n                              value={formData.resources || ''}\r\n                              onChange={handleChange}\r\n                              rows={3}\r\n                              className=\"input\"\r\n                              placeholder=\"Recursos humanos, financeiros e materiais\"\r\n                            />\r\n                            {renderFieldFeedback('resources')}\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label htmlFor=\"attentionPoints\" className=\"label\">\r\n                              Pontos de Atenção\r\n                            </label>\r\n                            <textarea\r\n                              id=\"attentionPoints\"\r\n                              name=\"attentionPoints\"\r\n                              value={formData.attentionPoints || ''}\r\n                              onChange={handleChange}\r\n                              rows={3}\r\n                              className=\"input\"\r\n                              placeholder=\"Riscos e considerações importantes\"\r\n                            />\r\n                            {renderFieldFeedback('attentionPoints')}\r\n                          </div>\r\n                        </>\r\n                      )}\r\n\r\n                      {section.id === 'summary' && (\r\n                        <>                          <div>\r\n                            <label htmlFor=\"description\" className=\"label\">\r\n                              Descrição Consolidada *\r\n                            </label>\r\n                            <textarea\r\n                              id=\"description\"\r\n                              name=\"description\"\r\n                              value={formData.description || ''}\r\n                              onChange={handleChange}\r\n                              required\r\n                              rows={4}\r\n                              className=\"input\"\r\n                              placeholder=\"Resumo completo da ideia\"\r\n                            />\r\n                            {renderFieldFeedback('description')}\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label htmlFor=\"benefits\" className=\"label\">\r\n                              Benefícios Esperados *\r\n                            </label>\r\n                            <textarea\r\n                              id=\"benefits\"\r\n                              name=\"benefits\"\r\n                              value={formData.benefits || ''}\r\n                              onChange={handleChange}\r\n                              required\r\n                              rows={3}\r\n                              className=\"input\"\r\n                              placeholder=\"Benefícios que esta ideia trará para a empresa\"\r\n                            />\r\n                            {renderFieldFeedback('benefits')}\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n\r\n              {/* Ideias Similares */}\r\n              {similarIdeas.length > 0 && (\r\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-start space-x-2\">\r\n                    <AlertCircle className=\"w-5 h-5 text-yellow-600 mt-0.5\" />\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-yellow-800\">Ideias similares encontradas:</p>\r\n                      <ul className=\"mt-2 space-y-1\">\r\n                        {similarIdeas.map((idea, index) => (\r\n                          <li key={index} className=\"text-sm text-yellow-700\">• {idea}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Botões de Ação */}\r\n              <div className=\"flex flex-col sm:flex-row justify-between gap-4 pt-4 border-t\">\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleAIAnalysis}\r\n                    disabled={isAnalyzing || !configuration?.isActive}\r\n                    className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\r\n                  >\r\n                    {isAnalyzing ? (\r\n                      <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                    ) : (\r\n                      <Sparkles className=\"w-4 h-4\" />\r\n                    )}\r\n                    {isAnalyzing ? 'Analisando...' : 'Analisar com IA'}\r\n                  </button>\r\n\r\n                  {isFormDataChanged() && aiSuggestions && (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleAIAnalysis}\r\n                      className=\"flex items-center gap-2 px-3 py-2 text-blue-600 border border-blue-300 rounded-md hover:bg-blue-50\"\r\n                    >\r\n                      <RefreshCw className=\"w-4 h-4\" />\r\n                      Reanalisar\r\n                    </button>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"flex items-center gap-2 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\r\n                  >\r\n                    <Save className=\"w-4 h-4\" />\r\n                    Salvar Rascunho\r\n                  </button>\r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700\"\r\n                  >\r\n                    <Send className=\"w-4 h-4\" />\r\n                    Enviar Ideia\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Painel de IA */}\r\n        <div className=\"lg:col-span-1\">\r\n          {configuration?.isActive ? (\r\n            <div className={`bg-white rounded-lg shadow-md transition-all duration-300 ${showAIPanel ? 'block' : 'hidden lg:block'}`}>\r\n              <div className=\"p-4 border-b bg-gradient-to-r from-blue-50 to-purple-50\">\r\n                <h3 className=\"font-semibold text-gray-900 flex items-center gap-2\">\r\n                  <Sparkles className=\"w-5 h-5 text-blue-600\" />\r\n                  Assistente de IA\r\n                </h3>\r\n                <p className=\"text-sm text-gray-600 mt-1\">\r\n                  Analise sua ideia e receba sugestões de melhorias\r\n                </p>\r\n              </div>\r\n\r\n              {!aiSuggestions ? (\r\n                <div className=\"p-4\">\r\n                  <p className=\"text-sm text-gray-500 text-center py-8\">\r\n                    Preencha alguns campos e clique em \"Analisar com IA\" para receber sugestões personalizadas.\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"p-4 space-y-4 max-h-96 overflow-y-auto\">\r\n                  {/* Botão para aplicar todas as sugestões */}\r\n                  <button\r\n                    onClick={applyAllSuggestions}\r\n                    className=\"w-full px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700\"\r\n                  >\r\n                    Aplicar Todas as Sugestões\r\n                  </button>\r\n\r\n                  {/* Sugestões por campo */}\r\n                  {Object.entries(aiSuggestions.suggestions || {}).map(([field, value]) => {\r\n                    if (!value || field === 'category') return null;\r\n                    \r\n                    const fieldLabels: { [key: string]: string } = {\r\n                      title: 'Título',\r\n                      what: 'O quê?',\r\n                      who: 'Quem?',\r\n                      when: 'Quando?',\r\n                      where: 'Onde?',\r\n                      why: 'Por quê?',\r\n                      how: 'Como?',\r\n                      howMuch: 'Quanto custará?',\r\n                      difficulties: 'Dificuldades',\r\n                      resources: 'Recursos',\r\n                      attentionPoints: 'Pontos de Atenção',\r\n                      description: 'Descrição',\r\n                      benefits: 'Benefícios'\r\n                    };\r\n\r\n                    return (\r\n                      <div key={field} className=\"border border-gray-200 rounded-lg p-3\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <span className=\"text-sm font-medium text-gray-700\">\r\n                            {fieldLabels[field] || field}\r\n                          </span>\r\n                          <button\r\n                            onClick={() => applySuggestion(field as keyof IdeaFormData, value as string)}\r\n                            className=\"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200\"\r\n                          >\r\n                            Aplicar\r\n                          </button>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 line-clamp-3\">{value as string}</p>\r\n                      </div>\r\n                    );\r\n                  })}\r\n\r\n                  {/* Melhorias sugeridas */}\r\n                  {aiSuggestions.improvements && aiSuggestions.improvements.length > 0 && (\r\n                    <div className=\"border-t pt-4\">\r\n                      <h4 className=\"font-medium text-gray-900 mb-2\">Melhorias Sugeridas:</h4>\r\n                      <ul className=\"space-y-1\">\r\n                        {aiSuggestions.improvements.map((improvement: string, index: number) => (\r\n                          <li key={index} className=\"text-sm text-gray-600 flex items-start gap-2\">\r\n                            <span className=\"text-blue-500 mt-1\">•</span>\r\n                            <span>{improvement}</span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Ideias relacionadas */}\r\n                  {aiSuggestions.relatedIdeas && aiSuggestions.relatedIdeas.length > 0 && (\r\n                    <div className=\"border-t pt-4\">\r\n                      <h4 className=\"font-medium text-gray-900 mb-2\">Ideias Relacionadas:</h4>\r\n                      <ul className=\"space-y-1\">\r\n                        {aiSuggestions.relatedIdeas.map((idea: string, index: number) => (\r\n                          <li key={index} className=\"text-sm text-gray-600 flex items-start gap-2\">\r\n                            <span className=\"text-purple-500 mt-1\">•</span>\r\n                            <span>{idea}</span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-white rounded-lg shadow-md p-6 text-center\">\r\n              <AlertCircle className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" />\r\n              <h3 className=\"font-medium text-gray-900 mb-2\">IA Indisponível</h3>\r\n              <p className=\"text-sm text-gray-500\">\r\n                A assistência de IA não está configurada. Entre em contato com o administrador.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}