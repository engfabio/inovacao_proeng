{"ast":null,"code":"var _jsxFileName = \"C:\\\\github\\\\inovacao_proeng\\\\src\\\\components\\\\Ideas\\\\EnhancedIdeaForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useIdeas } from '../../contexts/IdeasContext';\nimport { useAI } from '../../contexts/AIContext';\nimport { categories } from '../../data/mockData';\nimport { Lightbulb, AlertCircle, Sparkles, Loader2, ChevronDown, ChevronUp, Send } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const EnhancedIdeaForm = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    submitIdea,\n    ideas\n  } = useIdeas();\n  const {\n    analyzeIdea,\n    configuration\n  } = useAI();\n  const [formData, setFormData] = useState({\n    title: '',\n    category: '',\n    what: '',\n    who: '',\n    when: '',\n    where: '',\n    why: '',\n    how: '',\n    howMuch: '',\n    difficulties: '',\n    resources: '',\n    attentionPoints: '',\n    description: '',\n    benefits: ''\n  });\n  const [similarIdeas, setSimilarIdeas] = useState([]);\n  const [showAIPanel, setShowAIPanel] = useState(false);\n  const [aiSuggestions, setAiSuggestions] = useState(null);\n  const [expandedSections, setExpandedSections] = useState(new Set(['basic']));\n  const [isGeneralAnalyzing, setIsGeneralAnalyzing] = useState(false);\n  const [lastAnalyzedData, setLastAnalyzedData] = useState('');\n\n  // Estados para análise campo a campo\n  const [fieldSuggestions, setFieldSuggestions] = useState({});\n  const [fieldTimers, setFieldTimers] = useState({});\n  const [analyzingFields, setAnalyzingFields] = useState(new Set());\n  const [fieldStatus, setFieldStatus] = useState({});\n\n  // Função para analisar um campo específico\n  const analyzeField = useCallback(async (fieldName, value) => {\n    if (!(configuration !== null && configuration !== void 0 && configuration.isActive) || !value.trim() || value.length < 10) {\n      return;\n    }\n    setAnalyzingFields(prev => new Set(Array.from(prev).concat(fieldName)));\n    setFieldStatus(prev => ({\n      ...prev,\n      [fieldName]: 'analyzing'\n    }));\n    try {\n      // Simular análise de IA (aqui você integraria com a API real)\n      const mockAnalysis = await new Promise(resolve => {\n        setTimeout(() => {\n          // Lógica para determinar se precisa de sugestão ou elogio\n          const needsSuggestion = Math.random() > 0.6; // 40% chance de sugestão\n\n          if (needsSuggestion) {\n            const suggestions = {\n              title: ['Trocar marca do papel higiênico para reduzir custos de manutenção', 'Sistema de monitoramento de consumo de energia para diminuir gastos', 'Novo método de organização de tarefas para aumentar produtividade'],\n              what: ['A ideia é substituir o atual sistema de controle de estoque por um que utilize códigos QR para rastreamento automático de todos os itens. Isso reduziria o tempo de contagem manual e diminuiria erros.', 'Implementar um sistema de rodízio de funções entre os departamentos, onde cada funcionário passaria um dia por mês em outra área. Isso melhoraria a comunicação entre equipes e o entendimento geral da empresa.', 'Criar um espaço dedicado para relaxamento e brainstorming, equipado com ferramentas para anotação de ideias. Isso estimularia a criatividade e reduziria o estresse.'],\n              who: ['O pessoal da TI ficaria responsável pela parte técnica, enquanto os líderes de cada departamento treinariam suas equipes no novo sistema. O pessoal administrativo ajudaria com a documentação.', 'A equipe de Recursos Humanos coordenaria o projeto, com a participação de um representante de cada departamento. Poderíamos também convidar o pessoal da Qualidade para monitorar os resultados.', 'O time de manutenção para a instalação, o departamento financeiro para análise de custos, e funcionários que usam os banheiros diariamente para dar feedback direto sobre a qualidade.'],\n              why: ['Esta mudança é necessária porque atualmente gastamos 15% mais do que o necessário em materiais de escritório. Com o novo sistema, teríamos controle preciso do consumo e poderíamos reduzir desperdícios significativamente.', 'A implementação é importante pois os funcionários estão expressando insatisfação com o ambiente atual, o que está afetando a produtividade. Pesquisas internas mostram que 67% dos colaboradores sentem falta de mais espaços colaborativos.', 'Esta mudança resolveria o problema de desperdício que temos enfrentado. Dados mostram que jogamos fora 30% dos materiais por mês devido à má organização. Isso também está alinhado com nossa meta de sustentabilidade.'],\n              how: ['Começaríamos com um teste piloto no departamento de marketing por um mês. Após ajustes, expandiríamos para outros setores gradualmente. A implementação incluiria: 1) Treinamento inicial, 2) Período de adaptação com suporte intensivo, 3) Avaliação de resultados.', 'O processo seria dividido em fases: primeiro a pesquisa de fornecedores (2 semanas), seguida pela compra e instalação (1 mês) e finalmente o treinamento dos usuários (2 semanas). Usaríamos metodologia ágil para acompanhar o progresso.', 'Implementaríamos em três etapas: 1) Substituição gradual dos produtos atuais, começando pelo terceiro andar, 2) Coleta de feedback dos usuários após 15 dias, 3) Ajustes conforme necessário antes de expandir para os demais andares.'],\n              description: ['Esta ideia consiste em criar um sistema automatizado de controle de temperatura nos ambientes de trabalho, que se ajusta conforme a ocupação e preferências registradas dos funcionários. O sistema utilizaria sensores de presença e um aplicativo simples onde os funcionários poderiam indicar seu conforto térmico. Além de melhorar o bem-estar, reduziríamos o consumo de energia.', 'A proposta é implementar um programa de reconhecimento entre colegas, onde funcionários podem atribuir \"pontos de colaboração\" a outros que os ajudaram. Ao final do mês, os mais pontuados receberiam benefícios como folgas ou vales-presente. Isso estimularia o trabalho em equipe e reconheceria contribuições que muitas vezes passam despercebidas pela gestão.', 'Minha ideia é substituir o papel higiênico atual por um de melhor qualidade mas que rende mais. Embora o custo por unidade seja um pouco maior, cada rolo duraria o dobro, resultando em economia a longo prazo e redução de manutenção. Também melhoraria a experiência dos funcionários e visitantes.']\n            };\n            const fieldSuggestions = suggestions[fieldName] || ['Podemos expandir este campo com exemplos mais específicos para a Proeng. Por exemplo, se for sobre economia, poderia mencionar valores aproximados ou casos anteriores semelhantes que deram certo.', 'Recomendo incluir informações sobre como esta ideia se alinha com os objetivos atuais da empresa. Por exemplo, se há alguma meta de redução de custos ou melhoria de processos que sua ideia ajudaria a atingir.', 'Uma sugestão seria adicionar alguns dados concretos para fortalecer sua proposta. Mesmo estimativas aproximadas de economia, tempo poupado ou melhorias de produtividade já ajudariam a convencer os avaliadores.'];\n            resolve({\n              suggestion: fieldSuggestions[Math.floor(Math.random() * fieldSuggestions.length)]\n            });\n          } else {\n            const praises = ['Excelente descrição! Muito clara e objetiva.', 'Ótimo trabalho! Esta informação está bem estruturada.', 'Perfeito! Este campo está muito bem detalhado.', 'Muito bom! Informação completa e relevante.', 'Excelente! Este conteúdo atende aos critérios da Proeng.'];\n            resolve({\n              praise: praises[Math.floor(Math.random() * praises.length)]\n            });\n          }\n        }, 1500); // Simular tempo de processamento\n      });\n      setFieldSuggestions(prev => ({\n        ...prev,\n        [fieldName]: mockAnalysis\n      }));\n      setFieldStatus(prev => ({\n        ...prev,\n        [fieldName]: mockAnalysis.suggestion ? 'suggestion' : 'praised'\n      }));\n    } catch (error) {\n      console.error('Erro na análise do campo:', error);\n    } finally {\n      setAnalyzingFields(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(fieldName);\n        return newSet;\n      });\n    }\n  }, [configuration]);\n\n  // Função para aplicar sugestão de campo\n  const applyFieldSuggestion = (fieldName, suggestion) => {\n    setFormData(prev => ({\n      ...prev,\n      [fieldName]: suggestion\n    }));\n    setFieldStatus(prev => ({\n      ...prev,\n      [fieldName]: 'approved'\n    }));\n    // Limpar a sugestão após aplicar\n    setFieldSuggestions(prev => {\n      const newSuggestions = {\n        ...prev\n      };\n      delete newSuggestions[fieldName];\n      return newSuggestions;\n    });\n  };\n\n  // Função para dispensar sugestão\n  const dismissFieldSuggestion = fieldName => {\n    setFieldStatus(prev => ({\n      ...prev,\n      [fieldName]: 'approved'\n    }));\n    setFieldSuggestions(prev => {\n      const newSuggestions = {\n        ...prev\n      };\n      delete newSuggestions[fieldName];\n      return newSuggestions;\n    });\n  };\n\n  // Função para renderizar feedback do campo\n  const renderFieldFeedback = fieldName => {\n    const isFieldAnalyzing = analyzingFields.has(fieldName);\n    const suggestion = fieldSuggestions[fieldName];\n    if (isFieldAnalyzing) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 text-blue-700\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"w-4 h-4 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium\",\n            children: \"Analisando com IA...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this);\n    }\n    if (suggestion !== null && suggestion !== void 0 && suggestion.suggestion) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between gap-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                className: \"w-4 h-4 text-yellow-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-yellow-800\",\n                children: \"Sugest\\xE3o da IA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-yellow-700\",\n              children: suggestion.suggestion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => applyFieldSuggestion(fieldName, suggestion.suggestion),\n            className: \"px-3 py-1 text-xs bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\",\n            children: \"Aplicar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => dismissFieldSuggestion(fieldName),\n            className: \"px-3 py-1 text-xs bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors\",\n            children: \"Dispensar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this);\n    }\n    if (suggestion !== null && suggestion !== void 0 && suggestion.praise) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 text-green-700\",\n          children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n            className: \"w-4 h-4 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium\",\n            children: \"IA aprova:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: suggestion.praise\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n\n  // Debounce para análise de campo\n  const handleFieldChange = useCallback((fieldName, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [fieldName]: value\n    }));\n\n    // Limpar timer anterior se existir\n    if (fieldTimers[fieldName]) {\n      clearTimeout(fieldTimers[fieldName]);\n    }\n\n    // Limpar sugestões anteriores quando o usuário começar a digitar\n    if (fieldSuggestions[fieldName]) {\n      setFieldSuggestions(prev => {\n        const newSuggestions = {\n          ...prev\n        };\n        delete newSuggestions[fieldName];\n        return newSuggestions;\n      });\n      setFieldStatus(prev => {\n        const newStatus = {\n          ...prev\n        };\n        delete newStatus[fieldName];\n        return newStatus;\n      });\n    }\n\n    // Definir novo timer para análise após 10 segundos\n    const newTimer = setTimeout(() => {\n      analyzeField(fieldName, value);\n    }, 10000); // 10 segundos\n\n    setFieldTimers(prev => ({\n      ...prev,\n      [fieldName]: newTimer\n    }));\n  }, [fieldTimers, fieldSuggestions, analyzeField]);\n\n  // Cleanup dos timers\n  useEffect(() => {\n    return () => {\n      Object.values(fieldTimers).forEach(timer => {\n        if (timer) clearTimeout(timer);\n      });\n    };\n  }, [fieldTimers]);\n\n  // Verificar ideias similares\n  useEffect(() => {\n    if (formData.title && formData.title.length > 3) {\n      const similar = ideas.filter(idea => idea.title.toLowerCase().includes(formData.title.toLowerCase()) || formData.title.toLowerCase().includes(idea.title.toLowerCase())).map(idea => idea.title);\n      setSimilarIdeas(similar);\n    } else {\n      setSimilarIdeas([]);\n    }\n  }, [formData.title, ideas]);\n  const toggleSection = section => {\n    setExpandedSections(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(section)) {\n        newSet.delete(section);\n      } else {\n        newSet.add(section);\n      }\n      return newSet;\n    });\n  };\n  const handleAnalyzeWithAI = async () => {\n    if (!(configuration !== null && configuration !== void 0 && configuration.isActive)) return;\n    const currentData = JSON.stringify(formData);\n    if (currentData === lastAnalyzedData) return;\n    setIsGeneralAnalyzing(true);\n    setShowAIPanel(true);\n    try {\n      const analysis = await analyzeIdea(formData);\n      setAiSuggestions(analysis);\n      setLastAnalyzedData(currentData);\n    } catch (error) {\n      console.error('Erro na análise:', error);\n    } finally {\n      setIsGeneralAnalyzing(false);\n    }\n  };\n  const applySuggestion = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.title || !formData.category || !formData.description) {\n      alert('Preencha os campos obrigatórios: Título, Categoria e Descrição');\n      return;\n    }\n    try {\n      await submitIdea(formData);\n      navigate('/my-ideas');\n    } catch (error) {\n      console.error('Erro ao submeter ideia:', error);\n      alert('Erro ao submeter ideia. Tente novamente.');\n    }\n  };\n  const renderFormField = (label, fieldName, placeholder, required = false, type = 'input', options) => {\n    const value = formData[fieldName] || '';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700\",\n        children: [label, \" \", required && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500\",\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), type === 'select' ? /*#__PURE__*/_jsxDEV(\"select\", {\n        value: value,\n        onChange: e => handleFieldChange(fieldName, e.target.value),\n        className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n        required: required,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: placeholder\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this), options === null || options === void 0 ? void 0 : options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: option.value,\n          children: option.label\n        }, option.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }, this) : type === 'textarea' ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: value,\n        onChange: e => handleFieldChange(fieldName, e.target.value),\n        placeholder: placeholder,\n        rows: 4,\n        className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical\",\n        required: required\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: value,\n        onChange: e => handleFieldChange(fieldName, e.target.value),\n        placeholder: placeholder,\n        className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n        required: required\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this), renderFieldFeedback(fieldName)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-3 gap-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lg:col-span-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-900 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n              className: \"w-6 h-6 text-yellow-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this), \"Nova Ideia de Inova\\xE7\\xE3o\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), (configuration === null || configuration === void 0 ? void 0 : configuration.isActive) && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAnalyzeWithAI,\n            disabled: isGeneralAnalyzing,\n            className: \"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n            children: [isGeneralAnalyzing ? /*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"w-4 h-4 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Sparkles, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 19\n            }, this), isGeneralAnalyzing ? 'Analisando...' : 'Analisar com IA']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => toggleSection('basic'),\n              className: \"flex items-center justify-between w-full text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold text-gray-800\",\n                children: \"Sua ideia em poucas palavras\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this), expandedSections.has('basic') ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this), expandedSections.has('basic') && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 space-y-4\",\n              children: [\"                  \", renderFormField('Qual é sua ideia?', 'title', 'Ex: Trocar marca do papel higiênico para economizar', true), renderFormField('Em que área se encaixa?', 'category', 'Escolha a área mais próxima', true, 'select', categories.map(cat => ({\n                value: cat,\n                label: cat\n              }))), renderFormField('Conte mais sobre sua ideia', 'description', 'Descreva sua ideia com suas próprias palavras, sem termos técnicos...', true, 'textarea'), renderFormField('Quais benefícios você enxerga?', 'benefits', 'O que melhoraria no dia a dia da Proeng? Ex: Economizaria dinheiro, tempo...', false, 'textarea')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => toggleSection('5w2h'),\n              className: \"flex items-center justify-between w-full text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold text-gray-800\",\n                children: \"Detalhes da sua ideia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 17\n              }, this), expandedSections.has('5w2h') ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 15\n            }, this), expandedSections.has('5w2h') && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 space-y-4\",\n              children: [\"                  \", renderFormField('Qual seria sua ideia?', 'what', 'Conte sua ideia de forma simples. Ex: Mudar a marca do papel higiênico porque o atual gasta muito...', false, 'textarea'), renderFormField('Quem poderia participar?', 'who', 'Quem você acha que deveria ajudar nessa ideia? Ex: Pessoal da limpeza, da TI...', false, 'textarea'), renderFormField('Quando seria bom implementar?', 'when', 'Tem alguma urgência? Ou pode ser quando der? Ex: Antes do final do ano...', false, 'textarea'), renderFormField('Onde aplicar essa ideia?', 'where', 'Em qual local, departamento ou sistema? Ex: No banheiro do 3º andar, no sistema de vendas...', false, 'textarea'), renderFormField('Por que essa ideia é importante?', 'why', 'Qual problema essa ideia resolve? Ex: Reduz custos, evita desperdício...', false, 'textarea'), renderFormField('Como poderia ser feito?', 'how', 'Se você tiver alguma ideia de como fazer, conte aqui. Não se preocupe se não souber!', false, 'textarea'), renderFormField('Quanto custaria (mais ou menos)?', 'howMuch', 'Alguma ideia de custo? Pode ser aproximado ou comparação. Ex: Preço de uma impressora nova...', false, 'textarea')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => toggleSection('complement'),\n              className: \"flex items-center justify-between w-full text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold text-gray-800\",\n                children: \"Informa\\xE7\\xF5es adicionais\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 17\n              }, this), expandedSections.has('complement') ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), expandedSections.has('complement') && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 space-y-4\",\n              children: [\"                  \", renderFormField('Alguma dificuldade que você prevê?', 'difficulties', 'Tem algum obstáculo que você imagina? Ex: Talvez algumas pessoas não gostem no início...', false, 'textarea'), renderFormField('O que seria necessário?', 'resources', 'Precisa de algum material, ferramenta, sistema? Ex: Comprar novo material, contratar serviço...', false, 'textarea'), renderFormField('Algo importante a considerar?', 'attentionPoints', 'Algum detalhe que precisamos ficar atentos? Ex: Só funciona se todos colaborarem...', false, 'textarea')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), similarIdeas.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                className: \"w-5 h-5 text-yellow-600 mt-0.5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-medium text-yellow-800\",\n                  children: \"Ideias Similares Encontradas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"mt-1 text-sm text-yellow-700\",\n                  children: similarIdeas.slice(0, 3).map((idea, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2022 \", idea]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 pt-6 border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(Send, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 17\n              }, this), \"Submeter Ideia\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => navigate('/dashboard'),\n              className: \"flex items-center gap-2 px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lg:col-span-1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sticky top-6\",\n        children: configuration !== null && configuration !== void 0 && configuration.isActive ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-800 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                className: \"w-5 h-5 text-purple-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 19\n              }, this), \"Assistente de IA\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowAIPanel(!showAIPanel),\n              className: \"text-gray-500 hover:text-gray-700\",\n              children: showAIPanel ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 34\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 70\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 15\n          }, this), showAIPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: isGeneralAnalyzing ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8\",\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"w-8 h-8 animate-spin text-purple-600 mx-auto mb-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Analisando sua ideia...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 21\n            }, this) : aiSuggestions ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [Object.entries(aiSuggestions.suggestions || {}).map(([field, value]) => {\n                if (!value || typeof value !== 'string') return null;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border border-blue-200 rounded-lg p-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium text-blue-800 capitalize\",\n                      children: field === 'what' ? 'O quê' : field === 'who' ? 'Quem' : field === 'when' ? 'Quando' : field === 'where' ? 'Onde' : field === 'why' ? 'Por quê' : field === 'how' ? 'Como' : field === 'howMuch' ? 'Quanto' : field\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 579,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => applySuggestion(field, value),\n                      className: \"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200\",\n                      children: \"Aplicar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 589,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 578,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 line-clamp-3\",\n                    children: value\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 596,\n                    columnNumber: 29\n                  }, this)]\n                }, field, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 27\n                }, this);\n              }), aiSuggestions.improvements && aiSuggestions.improvements.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t pt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900 mb-2\",\n                  children: \"Melhorias Sugeridas:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-1\",\n                  children: aiSuggestions.improvements.map((improvement, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"text-sm text-gray-600 flex items-start gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-blue-500 mt-1\",\n                      children: \"\\u2022\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 608,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: improvement\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 609,\n                      columnNumber: 33\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 607,\n                    columnNumber: 31\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 603,\n                columnNumber: 25\n              }, this), aiSuggestions.relatedIdeas && aiSuggestions.relatedIdeas.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t pt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900 mb-2\",\n                  children: \"Ideias Relacionadas:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-1\",\n                  children: aiSuggestions.relatedIdeas.map((idea, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"text-sm text-gray-600 flex items-start gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-purple-500 mt-1\",\n                      children: \"\\u2022\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 623,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: idea\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 624,\n                      columnNumber: 33\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 622,\n                    columnNumber: 31\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                className: \"w-8 h-8 mx-auto mb-2 opacity-50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"Clique em \\\"Analisar com IA\\\" para obter sugest\\xF5es\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"w-12 h-12 text-gray-400 mx-auto mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium text-gray-900 mb-2\",\n            children: \"IA Indispon\\xEDvel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"A assist\\xEAncia de IA n\\xE3o est\\xE1 configurada. Entre em contato com o administrador.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 399,\n    columnNumber: 5\n  }, this);\n};\n_s(EnhancedIdeaForm, \"o8NcTVu+3JN99EK1DaBoeWCuuow=\", false, function () {\n  return [useNavigate, useIdeas, useAI];\n});\n_c = EnhancedIdeaForm;\nexport default EnhancedIdeaForm;\nvar _c;\n$RefreshReg$(_c, \"EnhancedIdeaForm\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useIdeas","useAI","categories","Lightbulb","AlertCircle","Sparkles","Loader2","ChevronDown","ChevronUp","Send","jsxDEV","_jsxDEV","EnhancedIdeaForm","_s","navigate","submitIdea","ideas","analyzeIdea","configuration","formData","setFormData","title","category","what","who","when","where","why","how","howMuch","difficulties","resources","attentionPoints","description","benefits","similarIdeas","setSimilarIdeas","showAIPanel","setShowAIPanel","aiSuggestions","setAiSuggestions","expandedSections","setExpandedSections","Set","isGeneralAnalyzing","setIsGeneralAnalyzing","lastAnalyzedData","setLastAnalyzedData","fieldSuggestions","setFieldSuggestions","fieldTimers","setFieldTimers","analyzingFields","setAnalyzingFields","fieldStatus","setFieldStatus","analyzeField","fieldName","value","isActive","trim","length","prev","Array","from","concat","mockAnalysis","Promise","resolve","setTimeout","needsSuggestion","Math","random","suggestions","suggestion","floor","praises","praise","error","console","newSet","delete","applyFieldSuggestion","newSuggestions","dismissFieldSuggestion","renderFieldFeedback","isFieldAnalyzing","has","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","handleFieldChange","clearTimeout","newStatus","newTimer","Object","values","forEach","timer","similar","filter","idea","toLowerCase","includes","map","toggleSection","section","add","handleAnalyzeWithAI","currentData","JSON","stringify","analysis","applySuggestion","field","handleSubmit","e","preventDefault","alert","renderFormField","label","placeholder","required","options","onChange","target","option","rows","disabled","onSubmit","cat","slice","index","entries","improvements","improvement","relatedIdeas","_c","$RefreshReg$"],"sources":["C:/github/inovacao_proeng/src/components/Ideas/EnhancedIdeaForm.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useIdeas } from '../../contexts/IdeasContext';\r\nimport { useAI } from '../../contexts/AIContext';\r\nimport { categories } from '../../data/mockData';\r\nimport { IdeaFormData } from '../../types';\r\nimport { \r\n  Lightbulb, \r\n  AlertCircle, \r\n  Sparkles, \r\n  Loader2, \r\n  ChevronDown, \r\n  ChevronUp,\r\n  Save,\r\n  Send,\r\n  RefreshCw\r\n} from 'lucide-react';\r\n\r\nexport const EnhancedIdeaForm: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { submitIdea, ideas } = useIdeas();\r\n  const { analyzeIdea, configuration } = useAI();\r\n  \r\n  const [formData, setFormData] = useState<Partial<IdeaFormData>>({\r\n    title: '',\r\n    category: '',\r\n    what: '',\r\n    who: '',\r\n    when: '',\r\n    where: '',\r\n    why: '',\r\n    how: '',\r\n    howMuch: '',\r\n    difficulties: '',\r\n    resources: '',\r\n    attentionPoints: '',\r\n    description: '',\r\n    benefits: ''\r\n  });\r\n\r\n  const [similarIdeas, setSimilarIdeas] = useState<string[]>([]);\r\n  const [showAIPanel, setShowAIPanel] = useState(false);\r\n  const [aiSuggestions, setAiSuggestions] = useState<any>(null);\r\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set(['basic']));\r\n  const [isGeneralAnalyzing, setIsGeneralAnalyzing] = useState(false);\r\n  const [lastAnalyzedData, setLastAnalyzedData] = useState<string>('');\r\n\r\n  // Estados para análise campo a campo\r\n  const [fieldSuggestions, setFieldSuggestions] = useState<Record<string, any>>({});\r\n  const [fieldTimers, setFieldTimers] = useState<Record<string, NodeJS.Timeout>>({});\r\n  const [analyzingFields, setAnalyzingFields] = useState<Set<string>>(new Set());\r\n  const [fieldStatus, setFieldStatus] = useState<Record<string, 'analyzing' | 'suggestion' | 'approved' | 'praised'>>({});\r\n\r\n  // Função para analisar um campo específico\r\n  const analyzeField = useCallback(async (fieldName: string, value: string) => {\r\n    if (!configuration?.isActive || !value.trim() || value.length < 10) {\r\n      return;\r\n    }\r\n\r\n    setAnalyzingFields(prev => new Set(Array.from(prev).concat(fieldName)));\r\n    setFieldStatus(prev => ({ ...prev, [fieldName]: 'analyzing' }));\r\n\r\n    try {\r\n      // Simular análise de IA (aqui você integraria com a API real)\r\n      const mockAnalysis = await new Promise<{suggestion?: string, praise?: string}>((resolve) => {\r\n        setTimeout(() => {          // Lógica para determinar se precisa de sugestão ou elogio\r\n          const needsSuggestion = Math.random() > 0.6; // 40% chance de sugestão\r\n          \r\n          if (needsSuggestion) {\r\n            const suggestions: { [key: string]: string[] } = {\r\n              title: [\r\n                'Trocar marca do papel higiênico para reduzir custos de manutenção',\r\n                'Sistema de monitoramento de consumo de energia para diminuir gastos',\r\n                'Novo método de organização de tarefas para aumentar produtividade'\r\n              ],\r\n              what: [\r\n                'A ideia é substituir o atual sistema de controle de estoque por um que utilize códigos QR para rastreamento automático de todos os itens. Isso reduziria o tempo de contagem manual e diminuiria erros.',\r\n                'Implementar um sistema de rodízio de funções entre os departamentos, onde cada funcionário passaria um dia por mês em outra área. Isso melhoraria a comunicação entre equipes e o entendimento geral da empresa.',\r\n                'Criar um espaço dedicado para relaxamento e brainstorming, equipado com ferramentas para anotação de ideias. Isso estimularia a criatividade e reduziria o estresse.'\r\n              ],\r\n              who: [\r\n                'O pessoal da TI ficaria responsável pela parte técnica, enquanto os líderes de cada departamento treinariam suas equipes no novo sistema. O pessoal administrativo ajudaria com a documentação.',\r\n                'A equipe de Recursos Humanos coordenaria o projeto, com a participação de um representante de cada departamento. Poderíamos também convidar o pessoal da Qualidade para monitorar os resultados.',\r\n                'O time de manutenção para a instalação, o departamento financeiro para análise de custos, e funcionários que usam os banheiros diariamente para dar feedback direto sobre a qualidade.'\r\n              ],\r\n              why: [\r\n                'Esta mudança é necessária porque atualmente gastamos 15% mais do que o necessário em materiais de escritório. Com o novo sistema, teríamos controle preciso do consumo e poderíamos reduzir desperdícios significativamente.',\r\n                'A implementação é importante pois os funcionários estão expressando insatisfação com o ambiente atual, o que está afetando a produtividade. Pesquisas internas mostram que 67% dos colaboradores sentem falta de mais espaços colaborativos.',\r\n                'Esta mudança resolveria o problema de desperdício que temos enfrentado. Dados mostram que jogamos fora 30% dos materiais por mês devido à má organização. Isso também está alinhado com nossa meta de sustentabilidade.'\r\n              ],\r\n              how: [\r\n                'Começaríamos com um teste piloto no departamento de marketing por um mês. Após ajustes, expandiríamos para outros setores gradualmente. A implementação incluiria: 1) Treinamento inicial, 2) Período de adaptação com suporte intensivo, 3) Avaliação de resultados.',\r\n                'O processo seria dividido em fases: primeiro a pesquisa de fornecedores (2 semanas), seguida pela compra e instalação (1 mês) e finalmente o treinamento dos usuários (2 semanas). Usaríamos metodologia ágil para acompanhar o progresso.',\r\n                'Implementaríamos em três etapas: 1) Substituição gradual dos produtos atuais, começando pelo terceiro andar, 2) Coleta de feedback dos usuários após 15 dias, 3) Ajustes conforme necessário antes de expandir para os demais andares.'\r\n              ],\r\n              description: [\r\n                'Esta ideia consiste em criar um sistema automatizado de controle de temperatura nos ambientes de trabalho, que se ajusta conforme a ocupação e preferências registradas dos funcionários. O sistema utilizaria sensores de presença e um aplicativo simples onde os funcionários poderiam indicar seu conforto térmico. Além de melhorar o bem-estar, reduziríamos o consumo de energia.',\r\n                'A proposta é implementar um programa de reconhecimento entre colegas, onde funcionários podem atribuir \"pontos de colaboração\" a outros que os ajudaram. Ao final do mês, os mais pontuados receberiam benefícios como folgas ou vales-presente. Isso estimularia o trabalho em equipe e reconheceria contribuições que muitas vezes passam despercebidas pela gestão.',\r\n                'Minha ideia é substituir o papel higiênico atual por um de melhor qualidade mas que rende mais. Embora o custo por unidade seja um pouco maior, cada rolo duraria o dobro, resultando em economia a longo prazo e redução de manutenção. Também melhoraria a experiência dos funcionários e visitantes.'\r\n              ]\r\n            };\r\n            \r\n            const fieldSuggestions = suggestions[fieldName] || [\r\n              'Podemos expandir este campo com exemplos mais específicos para a Proeng. Por exemplo, se for sobre economia, poderia mencionar valores aproximados ou casos anteriores semelhantes que deram certo.',\r\n              'Recomendo incluir informações sobre como esta ideia se alinha com os objetivos atuais da empresa. Por exemplo, se há alguma meta de redução de custos ou melhoria de processos que sua ideia ajudaria a atingir.',\r\n              'Uma sugestão seria adicionar alguns dados concretos para fortalecer sua proposta. Mesmo estimativas aproximadas de economia, tempo poupado ou melhorias de produtividade já ajudariam a convencer os avaliadores.'\r\n            ];\r\n\r\n            resolve({\r\n              suggestion: fieldSuggestions[Math.floor(Math.random() * fieldSuggestions.length)]\r\n            });\r\n          } else {\r\n            const praises = [\r\n              'Excelente descrição! Muito clara e objetiva.',\r\n              'Ótimo trabalho! Esta informação está bem estruturada.',\r\n              'Perfeito! Este campo está muito bem detalhado.',\r\n              'Muito bom! Informação completa e relevante.',\r\n              'Excelente! Este conteúdo atende aos critérios da Proeng.'\r\n            ];\r\n            \r\n            resolve({\r\n              praise: praises[Math.floor(Math.random() * praises.length)]\r\n            });\r\n          }\r\n        }, 1500); // Simular tempo de processamento\r\n      });\r\n\r\n      setFieldSuggestions(prev => ({\r\n        ...prev,\r\n        [fieldName]: mockAnalysis\r\n      }));\r\n\r\n      setFieldStatus(prev => ({\r\n        ...prev,\r\n        [fieldName]: mockAnalysis.suggestion ? 'suggestion' : 'praised'\r\n      }));\r\n\r\n    } catch (error) {\r\n      console.error('Erro na análise do campo:', error);\r\n    } finally {\r\n      setAnalyzingFields(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.delete(fieldName);\r\n        return newSet;\r\n      });\r\n    }\r\n  }, [configuration]);\r\n\r\n  // Função para aplicar sugestão de campo\r\n  const applyFieldSuggestion = (fieldName: string, suggestion: string) => {\r\n    setFormData(prev => ({ ...prev, [fieldName]: suggestion }));\r\n    setFieldStatus(prev => ({ ...prev, [fieldName]: 'approved' }));\r\n    // Limpar a sugestão após aplicar\r\n    setFieldSuggestions(prev => {\r\n      const newSuggestions = { ...prev };\r\n      delete newSuggestions[fieldName];\r\n      return newSuggestions;\r\n    });\r\n  };\r\n\r\n  // Função para dispensar sugestão\r\n  const dismissFieldSuggestion = (fieldName: string) => {\r\n    setFieldStatus(prev => ({ ...prev, [fieldName]: 'approved' }));\r\n    setFieldSuggestions(prev => {\r\n      const newSuggestions = { ...prev };\r\n      delete newSuggestions[fieldName];\r\n      return newSuggestions;\r\n    });\r\n  };\r\n\r\n  // Função para renderizar feedback do campo\r\n  const renderFieldFeedback = (fieldName: string) => {\r\n    const isFieldAnalyzing = analyzingFields.has(fieldName);\r\n    const suggestion = fieldSuggestions[fieldName];\r\n\r\n    if (isFieldAnalyzing) {\r\n      return (\r\n        <div className=\"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\r\n          <div className=\"flex items-center gap-2 text-blue-700\">\r\n            <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n            <span className=\"text-sm font-medium\">Analisando com IA...</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (suggestion?.suggestion) {\r\n      return (\r\n        <div className=\"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n          <div className=\"flex items-start justify-between gap-2\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <Sparkles className=\"w-4 h-4 text-yellow-600\" />\r\n                <span className=\"text-sm font-medium text-yellow-800\">Sugestão da IA</span>\r\n              </div>\r\n              <p className=\"text-sm text-yellow-700\">{suggestion.suggestion}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-2 mt-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => applyFieldSuggestion(fieldName, suggestion.suggestion)}\r\n              className=\"px-3 py-1 text-xs bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\"\r\n            >\r\n              Aplicar\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => dismissFieldSuggestion(fieldName)}\r\n              className=\"px-3 py-1 text-xs bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors\"\r\n            >\r\n              Dispensar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (suggestion?.praise) {\r\n      return (\r\n        <div className=\"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n          <div className=\"flex items-center gap-2 text-green-700\">\r\n            <Sparkles className=\"w-4 h-4 text-green-600\" />\r\n            <span className=\"text-sm font-medium\">IA aprova:</span>\r\n            <span className=\"text-sm\">{suggestion.praise}</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  // Debounce para análise de campo\r\n  const handleFieldChange = useCallback((fieldName: string, value: string) => {\r\n    setFormData(prev => ({ ...prev, [fieldName]: value }));\r\n\r\n    // Limpar timer anterior se existir\r\n    if (fieldTimers[fieldName]) {\r\n      clearTimeout(fieldTimers[fieldName]);\r\n    }\r\n\r\n    // Limpar sugestões anteriores quando o usuário começar a digitar\r\n    if (fieldSuggestions[fieldName]) {\r\n      setFieldSuggestions(prev => {\r\n        const newSuggestions = { ...prev };\r\n        delete newSuggestions[fieldName];\r\n        return newSuggestions;\r\n      });\r\n      setFieldStatus(prev => {\r\n        const newStatus = { ...prev };\r\n        delete newStatus[fieldName];\r\n        return newStatus;\r\n      });\r\n    }\r\n\r\n    // Definir novo timer para análise após 10 segundos\r\n    const newTimer = setTimeout(() => {\r\n      analyzeField(fieldName, value);\r\n    }, 10000); // 10 segundos\r\n\r\n    setFieldTimers(prev => ({\r\n      ...prev,\r\n      [fieldName]: newTimer\r\n    }));\r\n  }, [fieldTimers, fieldSuggestions, analyzeField]);\r\n\r\n  // Cleanup dos timers\r\n  useEffect(() => {\r\n    return () => {\r\n      Object.values(fieldTimers).forEach(timer => {\r\n        if (timer) clearTimeout(timer);\r\n      });\r\n    };\r\n  }, [fieldTimers]);\r\n\r\n  // Verificar ideias similares\r\n  useEffect(() => {\r\n    if (formData.title && formData.title.length > 3) {\r\n      const similar = ideas.filter(idea => \r\n        idea.title.toLowerCase().includes(formData.title!.toLowerCase()) ||\r\n        formData.title!.toLowerCase().includes(idea.title.toLowerCase())\r\n      ).map(idea => idea.title);\r\n      setSimilarIdeas(similar);\r\n    } else {\r\n      setSimilarIdeas([]);\r\n    }\r\n  }, [formData.title, ideas]);\r\n\r\n  const toggleSection = (section: string) => {\r\n    setExpandedSections(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(section)) {\r\n        newSet.delete(section);\r\n      } else {\r\n        newSet.add(section);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const handleAnalyzeWithAI = async () => {\r\n    if (!configuration?.isActive) return;\r\n\r\n    const currentData = JSON.stringify(formData);\r\n    if (currentData === lastAnalyzedData) return;\r\n\r\n    setIsGeneralAnalyzing(true);\r\n    setShowAIPanel(true);\r\n    \r\n    try {\r\n      const analysis = await analyzeIdea(formData);\r\n      setAiSuggestions(analysis);\r\n      setLastAnalyzedData(currentData);\r\n    } catch (error) {\r\n      console.error('Erro na análise:', error);\r\n    } finally {\r\n      setIsGeneralAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const applySuggestion = (field: keyof IdeaFormData, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.title || !formData.category || !formData.description) {\r\n      alert('Preencha os campos obrigatórios: Título, Categoria e Descrição');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await submitIdea(formData as IdeaFormData);\r\n      navigate('/my-ideas');\r\n    } catch (error) {\r\n      console.error('Erro ao submeter ideia:', error);\r\n      alert('Erro ao submeter ideia. Tente novamente.');\r\n    }\r\n  };\r\n\r\n  const renderFormField = (\r\n    label: string,\r\n    fieldName: keyof IdeaFormData,\r\n    placeholder: string,\r\n    required: boolean = false,\r\n    type: 'input' | 'textarea' | 'select' = 'input',\r\n    options?: Array<{value: string, label: string}>\r\n  ) => {\r\n    const value = formData[fieldName] || '';\r\n    \r\n    return (\r\n      <div className=\"space-y-2\">\r\n        <label className=\"block text-sm font-medium text-gray-700\">\r\n          {label} {required && <span className=\"text-red-500\">*</span>}\r\n        </label>\r\n        \r\n        {type === 'select' ? (\r\n          <select\r\n            value={value}\r\n            onChange={(e) => handleFieldChange(fieldName, e.target.value)}\r\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            required={required}\r\n          >\r\n            <option value=\"\">{placeholder}</option>\r\n            {options?.map(option => (\r\n              <option key={option.value} value={option.value}>\r\n                {option.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        ) : type === 'textarea' ? (\r\n          <textarea\r\n            value={value}\r\n            onChange={(e) => handleFieldChange(fieldName, e.target.value)}\r\n            placeholder={placeholder}\r\n            rows={4}\r\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical\"\r\n            required={required}\r\n          />\r\n        ) : (\r\n          <input\r\n            type=\"text\"\r\n            value={value}\r\n            onChange={(e) => handleFieldChange(fieldName, e.target.value)}\r\n            placeholder={placeholder}\r\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            required={required}\r\n          />\r\n        )}\r\n        \r\n        {renderFieldFeedback(fieldName)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n      {/* Formulário principal */}\r\n      <div className=\"lg:col-span-2\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\r\n              <Lightbulb className=\"w-6 h-6 text-yellow-500\" />\r\n              Nova Ideia de Inovação\r\n            </h1>\r\n            {configuration?.isActive && (\r\n              <button\r\n                onClick={handleAnalyzeWithAI}\r\n                disabled={isGeneralAnalyzing}\r\n                className=\"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              >\r\n                {isGeneralAnalyzing ? (\r\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                ) : (\r\n                  <Sparkles className=\"w-4 h-4\" />\r\n                )}\r\n                {isGeneralAnalyzing ? 'Analisando...' : 'Analisar com IA'}\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n            {/* Seção Básica */}\r\n            <div className=\"border rounded-lg p-6\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => toggleSection('basic')}\r\n                className=\"flex items-center justify-between w-full text-left\"\r\n              >\r\n                <h2 className=\"text-lg font-semibold text-gray-800\">Sua ideia em poucas palavras</h2>\r\n                {expandedSections.has('basic') ? (\r\n                  <ChevronUp className=\"w-5 h-5 text-gray-500\" />\r\n                ) : (\r\n                  <ChevronDown className=\"w-5 h-5 text-gray-500\" />\r\n                )}\r\n              </button>\r\n              \r\n              {expandedSections.has('basic') && (\r\n                <div className=\"mt-4 space-y-4\">                  {renderFormField('Qual é sua ideia?', 'title', 'Ex: Trocar marca do papel higiênico para economizar', true)}\r\n                  \r\n                  {renderFormField(\r\n                    'Em que área se encaixa?', \r\n                    'category', \r\n                    'Escolha a área mais próxima', \r\n                    true, \r\n                    'select',\r\n                    categories.map(cat => ({ value: cat, label: cat }))\r\n                  )}\r\n                    {renderFormField('Conte mais sobre sua ideia', 'description', 'Descreva sua ideia com suas próprias palavras, sem termos técnicos...', true, 'textarea')}\r\n                  \r\n                  {renderFormField('Quais benefícios você enxerga?', 'benefits', 'O que melhoraria no dia a dia da Proeng? Ex: Economizaria dinheiro, tempo...', false, 'textarea')}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Seção 5W2H */}\r\n            <div className=\"border rounded-lg p-6\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => toggleSection('5w2h')}\r\n                className=\"flex items-center justify-between w-full text-left\"\r\n              >\r\n                <h2 className=\"text-lg font-semibold text-gray-800\">Detalhes da sua ideia</h2>\r\n                {expandedSections.has('5w2h') ? (\r\n                  <ChevronUp className=\"w-5 h-5 text-gray-500\" />\r\n                ) : (\r\n                  <ChevronDown className=\"w-5 h-5 text-gray-500\" />\r\n                )}\r\n              </button>\r\n              \r\n              {expandedSections.has('5w2h') && (\r\n                <div className=\"mt-4 space-y-4\">                  {renderFormField('Qual seria sua ideia?', 'what', 'Conte sua ideia de forma simples. Ex: Mudar a marca do papel higiênico porque o atual gasta muito...', false, 'textarea')}\r\n                  {renderFormField('Quem poderia participar?', 'who', 'Quem você acha que deveria ajudar nessa ideia? Ex: Pessoal da limpeza, da TI...', false, 'textarea')}\r\n                  {renderFormField('Quando seria bom implementar?', 'when', 'Tem alguma urgência? Ou pode ser quando der? Ex: Antes do final do ano...', false, 'textarea')}\r\n                  {renderFormField('Onde aplicar essa ideia?', 'where', 'Em qual local, departamento ou sistema? Ex: No banheiro do 3º andar, no sistema de vendas...', false, 'textarea')}\r\n                  {renderFormField('Por que essa ideia é importante?', 'why', 'Qual problema essa ideia resolve? Ex: Reduz custos, evita desperdício...', false, 'textarea')}\r\n                  {renderFormField('Como poderia ser feito?', 'how', 'Se você tiver alguma ideia de como fazer, conte aqui. Não se preocupe se não souber!', false, 'textarea')}\r\n                  {renderFormField('Quanto custaria (mais ou menos)?', 'howMuch', 'Alguma ideia de custo? Pode ser aproximado ou comparação. Ex: Preço de uma impressora nova...', false, 'textarea')}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Seção Complementar */}\r\n            <div className=\"border rounded-lg p-6\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => toggleSection('complement')}\r\n                className=\"flex items-center justify-between w-full text-left\"\r\n              >\r\n                <h2 className=\"text-lg font-semibold text-gray-800\">Informações adicionais</h2>\r\n                {expandedSections.has('complement') ? (\r\n                  <ChevronUp className=\"w-5 h-5 text-gray-500\" />\r\n                ) : (\r\n                  <ChevronDown className=\"w-5 h-5 text-gray-500\" />\r\n                )}\r\n              </button>\r\n              \r\n              {expandedSections.has('complement') && (\r\n                <div className=\"mt-4 space-y-4\">                  {renderFormField('Alguma dificuldade que você prevê?', 'difficulties', 'Tem algum obstáculo que você imagina? Ex: Talvez algumas pessoas não gostem no início...', false, 'textarea')}\r\n                  {renderFormField('O que seria necessário?', 'resources', 'Precisa de algum material, ferramenta, sistema? Ex: Comprar novo material, contratar serviço...', false, 'textarea')}\r\n                  {renderFormField('Algo importante a considerar?', 'attentionPoints', 'Algum detalhe que precisamos ficar atentos? Ex: Só funciona se todos colaborarem...', false, 'textarea')}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Alertas */}\r\n            {similarIdeas.length > 0 && (\r\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n                <div className=\"flex items-start gap-2\">\r\n                  <AlertCircle className=\"w-5 h-5 text-yellow-600 mt-0.5\" />\r\n                  <div>\r\n                    <h3 className=\"font-medium text-yellow-800\">Ideias Similares Encontradas</h3>\r\n                    <ul className=\"mt-1 text-sm text-yellow-700\">\r\n                      {similarIdeas.slice(0, 3).map((idea, index) => (\r\n                        <li key={index}>• {idea}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Botões de ação */}\r\n            <div className=\"flex gap-4 pt-6 border-t\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                <Send className=\"w-4 h-4\" />\r\n                Submeter Ideia\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => navigate('/dashboard')}\r\n                className=\"flex items-center gap-2 px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Painel de IA */}\r\n      <div className=\"lg:col-span-1\">\r\n        <div className=\"sticky top-6\">\r\n          {configuration?.isActive ? (\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"font-semibold text-gray-800 flex items-center gap-2\">\r\n                  <Sparkles className=\"w-5 h-5 text-purple-600\" />\r\n                  Assistente de IA\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowAIPanel(!showAIPanel)}\r\n                  className=\"text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  {showAIPanel ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\r\n                </button>\r\n              </div>\r\n\r\n              {showAIPanel && (\r\n                <div className=\"space-y-4\">\r\n                  {isGeneralAnalyzing ? (\r\n                    <div className=\"text-center py-8\">\r\n                      <Loader2 className=\"w-8 h-8 animate-spin text-purple-600 mx-auto mb-3\" />\r\n                      <p className=\"text-sm text-gray-600\">Analisando sua ideia...</p>\r\n                    </div>\r\n                  ) : aiSuggestions ? (\r\n                    <div className=\"space-y-4\">\r\n                      {/* Sugestões de melhoria */}\r\n                      {Object.entries(aiSuggestions.suggestions || {}).map(([field, value]) => {\r\n                        if (!value || typeof value !== 'string') return null;\r\n                        return (\r\n                          <div key={field} className=\"border border-blue-200 rounded-lg p-3\">\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                              <span className=\"text-sm font-medium text-blue-800 capitalize\">\r\n                                {field === 'what' ? 'O quê' : \r\n                                 field === 'who' ? 'Quem' :\r\n                                 field === 'when' ? 'Quando' :\r\n                                 field === 'where' ? 'Onde' :\r\n                                 field === 'why' ? 'Por quê' :\r\n                                 field === 'how' ? 'Como' :\r\n                                 field === 'howMuch' ? 'Quanto' :\r\n                                 field}\r\n                              </span>\r\n                              <button\r\n                                onClick={() => applySuggestion(field as keyof IdeaFormData, value as string)}\r\n                                className=\"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200\"\r\n                              >\r\n                                Aplicar\r\n                              </button>\r\n                            </div>\r\n                            <p className=\"text-sm text-gray-600 line-clamp-3\">{value as string}</p>\r\n                          </div>\r\n                        );\r\n                      })}\r\n\r\n                      {/* Melhorias sugeridas */}\r\n                      {aiSuggestions.improvements && aiSuggestions.improvements.length > 0 && (\r\n                        <div className=\"border-t pt-4\">\r\n                          <h4 className=\"font-medium text-gray-900 mb-2\">Melhorias Sugeridas:</h4>\r\n                          <ul className=\"space-y-1\">\r\n                            {aiSuggestions.improvements.map((improvement: string, index: number) => (\r\n                              <li key={index} className=\"text-sm text-gray-600 flex items-start gap-2\">\r\n                                <span className=\"text-blue-500 mt-1\">•</span>\r\n                                <span>{improvement}</span>\r\n                              </li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Ideias relacionadas */}\r\n                      {aiSuggestions.relatedIdeas && aiSuggestions.relatedIdeas.length > 0 && (\r\n                        <div className=\"border-t pt-4\">\r\n                          <h4 className=\"font-medium text-gray-900 mb-2\">Ideias Relacionadas:</h4>\r\n                          <ul className=\"space-y-1\">\r\n                            {aiSuggestions.relatedIdeas.map((idea: string, index: number) => (\r\n                              <li key={index} className=\"text-sm text-gray-600 flex items-start gap-2\">\r\n                                <span className=\"text-purple-500 mt-1\">•</span>\r\n                                <span>{idea}</span>\r\n                              </li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-center py-8 text-gray-500\">\r\n                      <Sparkles className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\r\n                      <p className=\"text-sm\">Clique em \"Analisar com IA\" para obter sugestões</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-white rounded-lg shadow-md p-6 text-center\">\r\n              <AlertCircle className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" />\r\n              <h3 className=\"font-medium text-gray-900 mb-2\">IA Indisponível</h3>\r\n              <p className=\"text-sm text-gray-500\">\r\n                A assistência de IA não está configurada. Entre em contato com o administrador.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnhancedIdeaForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}