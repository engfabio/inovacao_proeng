{"ast":null,"code":"import React from'react';import{useAuth}from'../../contexts/AuthContext';import{useIdeas}from'../../contexts/IdeasContext';import{ThumbsUp,MessageCircle,Calendar}from'lucide-react';import{format}from'date-fns';import{ptBR}from'date-fns/locale';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const IdeaCard=_ref=>{var _idea$author;let{idea,showDetails=false}=_ref;const{user}=useAuth();const{voteIdea}=useIdeas();const hasVoted=user?idea.voters.includes(user.id):false;const handleVote=async()=>{if(!hasVoted&&user){await voteIdea(idea.id);}};const getStatusColor=status=>{const colors={received:'bg-gray-100 text-gray-800',analyzing:'bg-blue-100 text-blue-800',approved:'bg-green-100 text-green-800',in_progress:'bg-yellow-100 text-yellow-800',implemented:'bg-purple-100 text-purple-800',rejected:'bg-red-100 text-red-800'};return colors[status]||'bg-gray-100 text-gray-800';};const getStatusLabel=status=>{const labels={received:'Recebida',analyzing:'Em Análise',approved:'Aprovada',in_progress:'Em Progresso',implemented:'Implementada',rejected:'Rejeitada'};return labels[status]||status;};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:idea.title}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-medium \".concat(getStatusColor(idea.status)),children:getStatusLabel(idea.status)})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:idea.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-gray-500 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:format(new Date(idea.createdAt),'dd/MM/yyyy',{locale:ptBR})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:(_idea$author=idea.author)===null||_idea$author===void 0?void 0:_idea$author.name}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:idea.category})]})]}),showDetails&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Benef\\xEDcios Esperados:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:idea.benefits})]}),idea.feedback&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-900 mb-2\",children:\"Feedback:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-700\",children:idea.feedback})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-4 pt-4 border-t\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleVote,disabled:hasVoted||!user,className:\"flex items-center space-x-2 px-3 py-1 rounded-lg transition-colors \".concat(hasVoted?'bg-gray-100 text-gray-500 cursor-not-allowed':'bg-primary-100 text-primary-700 hover:bg-primary-200'),children:[/*#__PURE__*/_jsx(ThumbsUp,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:idea.votes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-gray-500\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:idea.comments.length})]})]}),showDetails&&/*#__PURE__*/_jsx(\"button\",{className:\"text-primary-600 hover:text-primary-700 font-medium\",children:\"Ver Detalhes\"})]})]});};","map":{"version":3,"names":["React","useAuth","useIdeas","ThumbsUp","MessageCircle","Calendar","format","ptBR","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","IdeaCard","_ref","_idea$author","idea","showDetails","user","voteIdea","hasVoted","voters","includes","id","handleVote","getStatusColor","status","colors","received","analyzing","approved","in_progress","implemented","rejected","getStatusLabel","labels","className","children","title","concat","description","Date","createdAt","locale","author","name","category","benefits","feedback","onClick","disabled","votes","comments","length"],"sources":["C:/github/inovacao_proeng/src/components/Ideas/IdeaCard.tsx"],"sourcesContent":["import React from 'react';\nimport { Idea } from '../../types';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useIdeas } from '../../contexts/IdeasContext';\nimport { ThumbsUp, MessageCircle, Calendar } from 'lucide-react';\nimport { format } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\n\ninterface IdeaCardProps {\n  idea: Idea;\n  showDetails?: boolean;\n}\n\nexport const IdeaCard: React.FC<IdeaCardProps> = ({ idea, showDetails = false }) => {\n  const { user } = useAuth();\n  const { voteIdea } = useIdeas();\n\n  const hasVoted = user ? idea.voters.includes(user.id) : false;\n\n  const handleVote = async () => {\n    if (!hasVoted && user) {\n      await voteIdea(idea.id);\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    const colors: { [key: string]: string } = {\n      received: 'bg-gray-100 text-gray-800',\n      analyzing: 'bg-blue-100 text-blue-800',\n      approved: 'bg-green-100 text-green-800',\n      in_progress: 'bg-yellow-100 text-yellow-800',\n      implemented: 'bg-purple-100 text-purple-800',\n      rejected: 'bg-red-100 text-red-800'\n    };\n    return colors[status] || 'bg-gray-100 text-gray-800';\n  };\n\n  const getStatusLabel = (status: string) => {\n    const labels: { [key: string]: string } = {\n      received: 'Recebida',\n      analyzing: 'Em Análise',\n      approved: 'Aprovada',\n      in_progress: 'Em Progresso',\n      implemented: 'Implementada',\n      rejected: 'Rejeitada'\n    };\n    return labels[status] || status;\n  };\n\n  return (\n    <div className=\"card\">\n      <div className=\"flex justify-between items-start mb-4\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">{idea.title}</h3>\n        <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(idea.status)}`}>\n          {getStatusLabel(idea.status)}\n        </span>\n      </div>\n\n      <p className=\"text-gray-600 mb-4\">{idea.description}</p>\n\n      <div className=\"flex items-center justify-between text-sm text-gray-500 mb-4\">\n        <div className=\"flex items-center space-x-2\">\n          <Calendar className=\"w-4 h-4\" />\n          <span>{format(new Date(idea.createdAt), 'dd/MM/yyyy', { locale: ptBR })}</span>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"font-medium\">{idea.author?.name}</span>\n          <span>•</span>\n          <span>{idea.category}</span>\n        </div>\n      </div>\n\n      {showDetails && (\n        <>\n          <div className=\"mb-4\">\n            <h4 className=\"font-medium text-gray-900 mb-2\">Benefícios Esperados:</h4>\n            <p className=\"text-gray-600\">{idea.benefits}</p>\n          </div>\n\n          {idea.feedback && (\n            <div className=\"mb-4 p-4 bg-blue-50 rounded-lg\">\n              <h4 className=\"font-medium text-blue-900 mb-2\">Feedback:</h4>\n              <p className=\"text-blue-700\">{idea.feedback}</p>\n            </div>\n          )}\n        </>\n      )}\n\n      <div className=\"flex items-center justify-between mt-4 pt-4 border-t\">\n        <div className=\"flex items-center space-x-4\">\n          <button\n            onClick={handleVote}\n            disabled={hasVoted || !user}\n            className={`flex items-center space-x-2 px-3 py-1 rounded-lg transition-colors ${\n              hasVoted\n                ? 'bg-gray-100 text-gray-500 cursor-not-allowed'\n                : 'bg-primary-100 text-primary-700 hover:bg-primary-200'\n            }`}\n          >\n            <ThumbsUp className=\"w-4 h-4\" />\n            <span>{idea.votes}</span>\n          </button>\n\n          <div className=\"flex items-center space-x-2 text-gray-500\">\n            <MessageCircle className=\"w-4 h-4\" />\n            <span>{idea.comments.length}</span>\n          </div>\n        </div>\n\n        {showDetails && (\n          <button className=\"text-primary-600 hover:text-primary-700 font-medium\">\n            Ver Detalhes\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}